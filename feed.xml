<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="br"><generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator><link href="https://zezedp.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://zezedp.github.io/" rel="alternate" type="text/html" hreflang="br"/><updated>2024-02-03T13:44:40+00:00</updated><id>https://zezedp.github.io/feed.xml</id><title type="html">blank</title><subtitle>A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">Criptografia de Curvas El√≠pticas: MenezesQuVanstone, ECDSA e Ataques</title><link href="https://zezedp.github.io/blog/2024/ecc/" rel="alternate" type="text/html" title="Criptografia de Curvas El√≠pticas: MenezesQuVanstone, ECDSA e Ataques"/><published>2024-02-03T00:20:00+00:00</published><updated>2024-02-03T00:20:00+00:00</updated><id>https://zezedp.github.io/blog/2024/ecc</id><content type="html" xml:base="https://zezedp.github.io/blog/2024/ecc/"><![CDATA[<h2 id="1-teoria-dos-grupos">1. Teoria dos Grupos</h2> <p>Para introduzir esse conceito, surigo uma alus√£o:</p> <p>Suponha que exista um grupo de 5 amigos que s√£o pr√≥ximos e outro grupo de 5 colegas de trabalho que n√£o interagem muito, respectivamente \(G_1, G_2\). Entre eles, podem interagir de formas distintas como um aperto de m√£os ou abra√ßo.</p> <p>N√£o √© um salto muito grande afirmar que os amigos do grupo \(G_1\) se abra√ßam, j√° que s√£o pr√≥ximos, mas para os colegas de trabalho do grupo \(G_2\) talvez n√£o seja t√£o apropriado, sendo mais prov√°vel se apresentarem com um aperto de m√£os.</p> <p>Para os dois grupos distintos, s√£o estabelecidas formas de comunica√ß√£o diferentes, seja o aperto de m√£o ou o abra√ßo, e na Matem√°tica n√£o √© t√£o diferente.</p> <h2 id="11-defini√ß√£o">1.1. Defini√ß√£o:</h2> <p>Um grupo pode ser descrito como um conjunto de \(n\) elementos e um operador de grupo, como adi√ß√£o ou multiplica√ß√£o.</p> <p>Se um grupo \(G\) tem dois elementos \(a\) e \(b\) e seu operador for multiplica√ß√£o, \(c=a \times b\).</p> <p>Para tal ser chamado de grupo, ele deve necessariamente respeitar os axiomas abaixo:</p> <ul> <li>Fechado: \(a\ 0 \ b =c \in G\)</li> <li>Associatividade: \((a \ 0 \ b) \ 0 \ c = a \ 0 \ (b \ 0 \ c) \in G\)</li> <li>Elemento Neutro: \(a \ 0 \ 1 = a\), onde 1 √© o elemento neutro nesse caso</li> <li>Elemento Inverso: \(a \ 0 \ a^{-1}=1\)</li> </ul> <p>Contudo, para a criptografia de curva el√≠tpicas vamos usar um grupo espec√≠fico que ser√° essencial para o Diffie-Hellman, o Grupo Abeliano, que tem uma mais propriedade:</p> <ul> <li>Comutatividade: \(a \ 0 \ b = b \ 0 \ a \in G\)</li> </ul> <h2 id="12-grupo-finito">1.2. Grupo Finito</h2> <p>Um grupo √© finito se tem um n√∫mero finito de elementos, onde sua cardinalidade √© denotada por \(\# G\). Por exemplo, \(‚Ñ§_9=\{0,1,2,3,4,5,6,7,8\}\), ent√£o sua cardinalidade √© 9.</p> <h2 id="13-ordem-de-um-elemento">1.3. Ordem de um Elemento:</h2> <p>A ordem de um elemento \(a\) de um grupo \((G, 0)\) √© o menor inteiro \(k\) que satisfa√ßa:</p> \[a^k= \underbrace{a \ 0 \ a \dots a \ 0 \ a }_\text{k vezes}=1\] <p>onde 1 √© o elemento neutro desse grupo \(G\).</p> <p>Vamos determinar a ordem de \(3\) em \(‚Ñ§_5^*\):</p> \[3^1 \equiv 3 \mod5\] \[3^2 \equiv4 \mod5\] \[3^3 \equiv 2 \mod5\] \[3^4 \equiv 1 \mod5\] <p>Portanto, a ordem de 3 no grupo √©: \(ord(3)=4\), que √© justamente \(\# ‚Ñ§_5^*\)</p> <p>N√£o foram necess√°rias muitas opera√ß√µes para alcan√ßar o elemento neutro do grupo, mas se continuarmos vamos observar um comportamento bem interessante:</p> \[3^5 \equiv 3 \mod5\] \[3^6 \equiv4 \mod5\] \[3^7 \equiv 2 \mod5\] \[3^8 \equiv 1 \mod5\] <p>A sequ√™ncia de \(\{3,4,2,1\}\) vai se repetir para sempre, contudo isso n√£o √© o suficiente para afirmar que esse √© um grupo c√≠clico, ao menos sem saber do Teorema 1.</p> <h3 id="teorema-1">Teorema 1:</h3> <p>Para um \(p\) primo, todo grupo \((‚Ñ§_p^*, 0)\) √© <strong><em>finito</em></strong>, <strong><em>abeliano</em></strong> e <strong><em>c√≠clico.</em></strong></p> <p>Segue o c√≥digo em Python que encontra os geradores de um grupo \(‚Ñ§^*_n, n&gt;2\):</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">encontra_gerador</span><span class="p">(</span><span class="n">n</span><span class="p">):</span> <span class="c1"># Recebe m√≥dulo n
</span>  <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="n">cont</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
      <span class="nf">if </span><span class="p">((</span><span class="n">x</span> <span class="o">**</span> <span class="n">i</span><span class="p">)</span> <span class="o">%</span> <span class="n">n</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">cont</span> <span class="o">==</span> <span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s"> √© gerador do grupo ‚Ñ§*_</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">break</span>
      <span class="n">cont</span> <span class="o">+=</span> <span class="mi">1</span>
</code></pre></div></div> <h2 id="14-grupo-c√≠clico">1.4. Grupo C√≠clico:</h2> <p>Um grupo \(G\) √© c√≠clico se o elemento de ordem m√°xima √© a pr√≥pria cardinalidade do grupo \(\#G\). Esses elementos s√£o os <strong><em>geradores</em></strong> do grupo.</p> <p>No exemplo anterior foi encontrado um gerador sem saber o que era um. Perceba:</p> <p>\(‚Ñ§_5^*=\{1,2,3,4\},\) e portanto \(\#‚Ñ§_5^*=4\), que √© a ordem do elemento 3 no grupo.</p> <p>Segue que, o grupo \(‚Ñ§_5^*\) √© c√≠clico e \(3\) √© um dos elementos geradores desse grupo.</p> <p>Pode-se ir al√©m e afirmar que todos os elementos desse grupo s√£o geradores, pelo <strong>Teorema 2</strong>.</p> <h3 id="141-propriedades-dos-grupos-c√≠clicos">1.4.1. Propriedades dos Grupos C√≠clicos:</h3> <p>Seja o grupo c√≠clico \(G\) de cardinalidade \(\# G\), ent√£o \(\forall a \in G\) vale que:</p> \[a^{\#G} \equiv 1\mod(\#G+1)\] \[ord(a) \mid \#G\] <p>A primeira propriedade vem do Pequeno Teorema de Fermat para \(‚Ñ§_p^*:\)</p> <p>O grupo \(‚Ñ§_p^*=\{1, 2, ..., (p-1)\}\) tem cardinalidade \((p-1)\), e portanto:</p> \[a^{(p-1)}\equiv1 \mod p\] <p>J√° a segunda propriedade diz que a cardinalidade do grupo √© divis√≠vel pelas ordens dos elementos dele. Logo, em \(‚Ñ§_{11}^*=\{1,2,3,4,5,6,7,8,9,10\}\) as ordens dos elementos s√£o:</p> \[ord(a)=\{1,2,5,10\}\] <h2 id="2-problema-do-logaritmo-discreto">2. Problema do Logaritmo Discreto:</h2> <p>Grupos c√≠clicos s√£o importantes para problemas de logaritmo discreto, pois a partir de um gerador \(\alpha\) no grupo \(‚Ñ§_p^*\) √© poss√≠vel encontrar todos os elementos desse Grupo.</p> <p>Exemplo:</p> <p>Em \(‚Ñ§_{47}^*\) todos os elementos s√£o geradores como foi falado no Teorema 1 , ent√£o se pegarmos um \(\alpha=5\), √© poss√≠vel encontrar todos os elementos do Grupo a partir de \(\alpha\).</p> <p>Dito isso, encontre \(x\):</p> \[5^x\equiv\ 41 \mod47,\] <p>Talvez voc√™ j√° tenha percebido que essa conta manualmente √© extremamente complicada, pois exige o c√°lculo de</p> \[x\equiv \log_5 41 \mod 47\] <p>Contudo, como esse √© um problema que envolve n√∫meros pequenos, com um simples brute-force √© encontrado o valor de \(x\).</p> <p>Vale ressaltar que, \(x\) respeita a desigualdade \(1 \leq x \leq 46\) pelo Pequeno Teorema de Fermat, pois</p> \[a^{(p-1)}\equiv1 \mod p\] <p>Assim, ele reinicia a sequ√™ncia do Grupo C√≠clico no elemento neutro \(1\).</p> <p>Segue abaixo o c√≥digo em Python que realiza esse brute-force ing√™nuo:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">DLP_bruteforce_dumb</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">beta</span><span class="p">):</span>
	<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">mod</span><span class="p">):</span>
		<span class="nf">if </span><span class="p">(</span><span class="n">alpha</span><span class="o">**</span><span class="n">x</span> <span class="o">%</span> <span class="n">p</span> <span class="o">==</span> <span class="n">beta</span><span class="p">):</span>
			<span class="k">return</span> <span class="n">x</span>
</code></pre></div></div> <p>Se voc√™ rodar esse c√≥digo com os par√¢metros \(\alpha=5, \ \beta =41\) e \(p=47\) √© retornado \(x=15\) em pouco tempo, porque esse problema est√° lidando com n√∫meros bem pequenos e eles n√£o seriam usados de forma alguma em um sistema de criptografia.</p> <p>Portanto, o problema do logaritmo discreto pode ser sintetizado em</p> <p>Dados \(p, \beta \in ‚Ñ§_{p}^*\) e o gerador \(\alpha\), encontre \(x\) que satisfa√ßa a condi√ß√£o abaixo:</p> \[\alpha^x\equiv\beta \mod p\] <p>que √© resolvido por</p> \[x \equiv \log_\alpha \beta \mod p\] <h2 id="3-curvas-el√≠pticas">3. Curvas El√≠pticas</h2> <p>Por defini√ß√£o, uma curva el√≠ptica em \(‚Ñ§_p,\ p&gt;3\) √© o conjunto de todos os pares coordenados \((x,y) \in ‚Ñ§_p\) que satisfazem</p> \[y^2\equiv x^3+ax+b \mod p\] <p>onde \(a,b \in ‚Ñ§_p\). Al√©m de um ponto imagin√°rio no infinito denotado por¬†\(O\), e o discriminante \(4a^3+27b^2\ne0\), para que sejam curvas regulares.</p> <p>Quando essa curva √© regular e se pode definir uma opera√ß√£o para o conjunto de pontos nela pertencentes, ela se torna um Grupo Abeliano.</p> <p>Caso ainda exista d√∫vida, verificamos se um ponto \(P\) pertence √† curva se for verdade \(y^2-x^3-ax-b\equiv0 \mod p\).</p> <p>Toda curva el√≠ptica que atenda a essas condi√ß√µes √© sim√©trica em rela√ß√£o ao eixo \(x\) e isso √© f√°cil de verificar:</p> <p>Seja a curva el√≠ptica \(E:y^2=x^3-x+1\) no plano cartesiano, ao ‚Äútirar a raiz‚Äù de ambos os lados da equa√ß√£o obtemos</p> \[y=\pm\sqrt{x^3-x+1}\] <h2 id="4-grupos-em-curvas-el√≠pticas">4. Grupos em Curvas El√≠pticas:</h2> <p>Para definir um grupo, √© preciso um conjunto finito de elementos e um operador de grupo, s√£o eles:</p> <ul> <li>O conjunto de pontos \((x,y) \in E:y^2\equiv x^3 + ax + b \mod p\)</li> <li>Operador de Adi√ß√£o \((+)\).</li> </ul> <p>A curva el√≠ptica \(E\) √© um Grupo Aditivo, e isso significa que vamos obter pontos a partir da soma bin√°ria deles.</p> \[P+Q =R\] <p>onde \(P=(x_1, y_1), Q=(x_2,y_2) \ e \ R=(x_3,y_3)\).</p> <p>Para isso acontecer, devemos garantir que o axioma 1 (Fechado) dos Grupos seja respeitado, <em>mas como?</em></p> <h3 id="41-adi√ß√£o-de-pontos-p-neq-q">4.1. Adi√ß√£o de Pontos \((P \neq Q)\):</h3> <p>Nesse cen√°rio, o ponto \(R\) √© obtido ao tra√ßar uma reta entre os pontos \(P \ e \ Q\), que intersecta a curva em outro ponto, digamos \(R'\). Por fim, esse ponto √© espelhado em rela√ß√£o ao eixo \(x\) da seguinte maneira</p> \[R'=(x_{R'}, y_{R'}) \rightarrow R=(x_{R'}, -y_{R'})\] <p>que √© por defini√ß√£o \(R=-R'\).</p> <p>Exemplo:</p> <p>Sejam a curva el√≠ptica \(E:y^2= x^3+ax+b\) e os pontos \(P=(x_P,y_P),Q=(x_Q,y_Q) \in E\).</p> <p>A reta \(r\) que passa por \(P \ e \ Q\) tem equa√ß√£o \(y=sx+m\), onde \(s\) √© o coeficiente angular dessa reta.</p> <p>Lembrando que o coeficiente angular de uma reta em \(‚Ñù\) √© dado por:</p> \[s=\frac{y_Q-y_P}{x_Q-x_P}\] <p>Mas vale ressaltar que, em \(‚Ñ§_p\) √© usado o Algoritmo de Euclides Estendido para encontrar o inverso multiplicativo:</p> \[s\equiv(y_Q-y_R)(x_Q-x_P)^{-1} \mod p\] <p>Substituindo \(y\) na curva \(E\) √© obtido:</p> \[(sx+m)^2=x^3+ax+b\] \[s^2x^2+2smx+m^2=x^3+ax+b\] \[x^3-s^2x^2-2smx-m^2+ax+b=0\] \[x^3-s^2x^2+(a-2sm)x+(b-m^2)=0 \ \ \ \ \ \ (1)\] <p>Para encontrar \(R\) √© preciso lembrar da caracter√≠stica de uma equa√ß√£o c√∫bica:</p> \[x^3+ax^2+bx+c=0, \ a\neq 0\] <p>Uma equa√ß√£o c√∫bica tem tr√™s ra√≠zes, que nesse caso s√£o as coordenadas parciais \(x_P, x_Q, x_R\). Podemos usar isso na equa√ß√£o caracter√≠stica:</p> \[x^3+ax^2+bx+c= (x-x_P)(x-x_Q)(x-x_R)\] <p>Expandindo o lado direito da equa√ß√£o:</p> \[(x-x_P)(x-x_Q)(x-x_R)=\] \[=(x^2‚àí(x_P+x_Q)x+x_Px_Q)(x‚àíx_R)=\] \[=x^3‚àí(x_P+x_Q+x_R)x^2+(x_Px_Q+x_Px_R+x_Qx_R)x‚àíx_Px_Qx_R \ \ \ \ \ \ (2)\] <p>Podemos igualar os coeficientes das equa√ß√µes <strong>(1)</strong> e <strong>(2)</strong> e encontramos o valor desejado de \(x_R\).</p> \[\begin{cases} -s^2x^2= -(x_P+x_Q+x_R)x^2\\ (a-2sm)x = (x_Px_Q+x_Px_R+x_Qx_R)x \\ (b-m^2) = -x_Px_Qx_R\\ \end{cases}\] <p>Ent√£o:</p> \[-s^2=-(x_P+x_Q+x_R)\] \[s^2=(x_P+x_Q+x_R)\] <p>Isolando \(x_R\)</p> \[x_R=s^2-x_P-x_Q\] <p>Como agora temos \(x_R\), √© poss√≠vel determinar o valor de \(y_R\) partindo da equa√ß√£o da reta entre \(P \ e \ R\).</p> \[s=\frac{y_R-y_P}{x_R-x_P}\] <p>Com uma simples manipula√ß√£o alg√©brica √© encontrado $y_R$:</p> \[s(x_R-x_P)=y_R-y_P\] \[y_R=s(x_R-x_P)+y_P\] <p>Mas ainda falta espelhar esse resultado em rela√ß√£o ao eixo x, ou seja, encontrar \(-y_R\):</p> \[-y_R=-s(x_R-x_P)-y_P\] <p>Que √© equivalente a</p> \[-y_R=s(x_P-x_R)-y_P\] <h3 id="42-point-doubling-p--q">4.2. Point Doubling \((P = Q)\):</h3> <p>Quando os pontos \(P\) e \(Q\) s√£o iguais, o ponto \(R\) √© resultado de</p> \[R=P+Q=P+P=2P\] <p>Vamos visualizar geometricamente:</p> <p>Suponha que existam dois pontos \(P\neq Q\in E\) arbitrariamente pr√≥ximos e que √© tra√ßada um reta secante passando por \(P \ e \ Q\).</p> <p>Imagine que o ponto \(Q\) vai se aproximando cada vez mais de \(P\), e que isso acontece de tal maneira que a dist√¢ncia final entre eles seja infinitesimal.</p> <p>Assim, os pontos \(P, Q\) v√£o coincidir e a reta s√≥ tocar√° o ponto \(P\).</p> <p>Imagem meramente ilustrativa de uma par√°bola. N√£o representa uma curva el√≠ptica.</p> <p>Essa reta √© a Reta Tangente, que tamb√©m tem equa√ß√£o</p> \[y=sx+m\] <p>Dessa vez, o coeficiente angular √© dado pela derivada de</p> \[y^2=x^3+ax+b\] <p>Para isso, vamos derivar primeiro para \(y&gt;0\):</p> \[y=\sqrt{x^3+ax+b}\] \[\frac{dy}{dx}=\frac{d}{dx}(\sqrt{x^3+ax+b})\] \[\frac{dy}{dx}=\frac{d}{dx}(x^3+ax+b)^\frac{1}{2}\] <p>Aplica-se a Regra da Cadeia:</p> \[\frac{dy}{dx}=\frac{1}{2}(x^3+ax+b)^{-\frac{1}{2}}\cdot(3x^2+a)\] \[\frac{dy}{dx}=\frac{1}{2\sqrt{x^3+ax+b}}\cdot(3x^2+a)\] <p>Por fim, √© substituido o valor conhecido de \(y=\sqrt{x^3+ax+b}\)</p> \[\frac{dy}{dx}=\frac{1}{2y}\cdot(3x^2+a)\] <p>Como \(2y\) j√° leva em considera√ß√£o o sinal de \(y\), n√£o √© necess√°rio derivar para \(y&lt;0\).</p> \[s=\frac{3x^2+a}{2y}\] <p>Dadas as as equa√ß√µes de \(x_R\ e\ y_R\), basta substituir o valor de \(s\).</p> \[x_R=s^2-x_P-x_Q\] <p>Mas \(P=(x_P,y_P)=Q\):</p> \[x_R=s^2-2x_P\] <p>Para \(y_R\) n√£o √© necess√°rio realizar altera√ß√µes na f√≥rmula:</p> \[y_R=s(x_P-x_R)-y_P\] <h3 id="43-elemento-neutro-do-grupo-o">4.3. Elemento Neutro do Grupo \((O)\):</h3> <p>E se a reta que passa por \(P \text{ e } Q\) for vertical ao eixo x?</p> <p>Esse cen√°rio ocorre quando \(P=(x,y) \text{ e } Q=(x,-y)\).</p> <p>Para isso, √© definido um ponto no infinito do eixo \(y\) , denotado por \(O\). Podemos imaginar uma estrada que vai at√© o infinito, j√° que as margens s√£o retas paralelas e se encontram no horizonte.</p> <p>P+Q=P+(-P)=O</p> <p>Estrada que vai at√© o infinito.</p> <p>Esse ponto no infinito √© o elemento neutro do Grupo Aditivo, isso significa que</p> \[P+O=P,\ \forall P\in E\] <p>Ou ainda,</p> \[P+(-P)=O\] <p>Lembrando que, por defini√ß√£o \(-P=(x_P,-y_P)\), mas em \(‚Ñ§_p\) √© dado por</p> \[-P=(x_P,p-y_P) \mod p\]]]></content><author><name></name></author><category term="sample-posts"/><category term="ECC"/><summary type="html"><![CDATA[Material Did√°tico sobre Criptografia de Curvas El√≠pticas com toda a matem√°tica necess√°ria.]]></summary></entry><entry><title type="html">Desvendando a Enigma: Implementa√ß√£o, Ataques Modernos e sua Hist√≥ria.</title><link href="https://zezedp.github.io/blog/2024/enigma/" rel="alternate" type="text/html" title="Desvendando a Enigma: Implementa√ß√£o, Ataques Modernos e sua Hist√≥ria."/><published>2024-02-02T10:40:00+00:00</published><updated>2024-02-02T10:40:00+00:00</updated><id>https://zezedp.github.io/blog/2024/enigma</id><content type="html" xml:base="https://zezedp.github.io/blog/2024/enigma/"><![CDATA[<h2 id="introdu√ß√£o---o-que-√©-a-enigma">Introdu√ß√£o - O que √© a Enigma?</h2> <p>Criada pelo alem√£o Arthur Scherbius, a Enigma foi a m√°quina eletromec√¢nica de criptografia adotada pela Alemanha na Segunda Guerra Mundial. Ela foi inicialmente projetada para ser uma m√°quina de cifras para civis, contudo, no final da d√©cada de 20 ela sumiu do mercado, que interessou os militares.</p> <p>Assim, com a chegada da Segunda Guerra Mundial, ambos os lados viram a necessidade de implementar m√©todos mais seguros de criptografia para que as comunica√ß√µes entre r√°dios e outras comunica√ß√µes militares n√£o pudessem ser facilmente interceptadas e decifradas.</p> <p>Ao longo da Guerra, muitos pesquisadores aliados estiveram envolvidos na solu√ß√£o da Enigma, ou melhor, nas t√©cnicas de decripta√ß√£o das mensagens intereceptadas. Suas pesquisas se baseavam em ‚ÄòKPA‚Äô - ‚ÄúKnown-plaintext attack‚Äù, provalmente porque as mensagens interceptadas se limitavam a somente 200 caracteres, o que dificultaria um ataque ‚Äúciphertext only‚Äù, ao menos era o que deveria acontecer.</p> <h2 id="os-mecanismos-da-enigma">Os Mecanismos da Enigma</h2> <h3 id="1-uma-breve-descri√ß√£o">1. Uma Breve Descri√ß√£o</h3> <p>Ao longo dos anos, a m√°quina Enigma assumiu algumas formas, contudo as altera√ß√µes n√£o mudaram muito seu escopo observ√°vel, mantendo assim a apar√™ncia de uma caixa registradora com uma m√°quina datilogr√°fica.</p> <p><img src="https://upload.wikimedia.org/wikipedia/commons/2/27/Enigma-plugboard.jpg" alt="https://upload.wikimedia.org/wikipedia/commons/2/27/Enigma-plugboard.jpg"/></p> <p>Ela era formada por 5 componentes:</p> <ul> <li>Teclado</li> <li>Plugboard</li> <li>Rotores</li> <li>Refletor</li> <li>L√¢mpadas</li> </ul> <p>Assim, o operador pressionava uma tecla, fazendo com que a corrente el√©trica passasse para o <em>plugboard</em>, em seguida pelos 3 <em>rotores</em>, da direita para a esquerda, e <em>refletor</em>, nessa sequ√™ncia. E como o nome j√° diz, o refletor, com sua pr√≥pria permuta√ß√£o, fazia com que a corrente realizasse o caminho inverse at√© chegar na <em>lampboard</em>, iluminando o caractere obtido.</p> <p><img src="https://opensourc.es/assets/blog/2020-02-09-enigma-and-bombe/images/enigma.gif" alt="https://opensourc.es/assets/blog/2020-02-09-enigma-and-bombe/images/enigma.gif"/></p> <h3 id="11-teclado-e-l√¢mpadas">1.1. Teclado e L√¢mpadas</h3> <p>O teclado e as l√¢mpadas representam, respectivamente, o <em>input</em> e o <em>output</em> de um caractere na m√°quina Enigma. Na vers√£o original, a Enigma possui 26 l√¢mpadas representando as letras do alfabeto, o mesmo vale para o teclado.</p> <p>Quando o processo se encerra, a l√¢mpada acende com a letra encriptada.</p> <h3 id="12-plugboard">1.2. Plugboard</h3> <p>A Plugboard √© o √∫nico mecanismo que s√≥ existe na vers√£o militar da Enigma,</p> <p>Esse elemento permitia a altera√ß√£o manual de pares de letras entre si - a parte monoalfabetica da cifra - embaralhando o Alfabeto, e portanto, a mensagem. Essa funcionalidade se dava por cabos com ‚Äòjacks‚Äô nas pontas que conectavam as duas letras em quest√£o.</p> <p>Esse mecanismo permitia uma permuta√ß√£o adicional antes da entrada nos rotores, adicionando uma camada extra de complexidade √† criptografia.</p> <p>Assim, caso o par ‚ÄúAZ‚Äù fosse escolhido, o sinal ‚ÄúA‚Äù passaria do teclado para a plugboard, que ent√£o se tornaria ‚ÄúZ‚Äù e o mesmo vale no caminho inverso.</p> <h3 id="13-rotores">1.3. Rotores</h3> <p>Os rotores eram o cora√ß√£o da Enigma. Eles eram discos circulares que contavam com 26 contatos el√©tricos dos dois lados, e cada contato era conectado ‚Äúaleatoriamente‚Äù a outro do lado oposto.</p> <p>Quando uma tecla do Teclado era pressionada, uma corrente el√©trica passava do primeiro rotor, que girava para uma posi√ß√£o diferente. Assim, a corrente el√©trica fluia por um conjunto diferente de contatos, embaralhando a mensagem.</p> <p><img src="https://i.makeagif.com/media/11-29-2015/X1io0K.gif" alt="https://i.makeagif.com/media/11-29-2015/X1io0K.gif"/></p> <p>A Enigma possuia 8 possibilidades de rotores e cada um deles mapeava uma letra do alfabeto para um outra. Esse mapeamento √© chamado de Permuta√ß√£o ou Wiring.</p> <p>Abaixo est√£o representadas essas permuta√ß√µes:</p> <ul> <li>Rotor I : EKMFLGDQVZNTOWYHXUSPAIBRCJ Notch: Q</li> <li>Rotor II : AJDKSIRUXBLHWTMCQGZNPYFVOE Notch: E</li> <li>Rotor III : BDFHJLCPRTXVZNYEIWGAKMUSQO Notch: V</li> <li>Rotor IV : ESOVPZJAYQUIRHXLNFTGKDCMWB Notch: J</li> <li>Rotor V : VZBRGITYUPSDNHLXAWMJQOFECK Notch: Z</li> <li>Rotor VI : JPGVOUMFYQBENHZRDKASXLICTW Notches: Z+M</li> <li>Rotor VII : NZJHGRCXMYSWBOUFAIVLPEKQDT Notches: Z+M</li> <li>Rotor VIII : FKQHTLXOCBJSPDZRAMEWNIUYGV Notches: Z+M</li> </ul> <h3 id="131-notches">1.3.1. Notches:</h3> <p>A melhor maneira, talvez, de entender como funciona o Notch, seja com uma alus√£o ao Rel√≥gio.</p> <p>O Ponteiro dos Segundos precisa dar uma volta completa (60s) no rel√≥gio para que o Ponteiro dos Minutos mova uma posi√ß√£o e esse por sua vez precisa dar uma volta completa (60 min) para que o Ponteiro das Horas mova uma posi√ß√£o.</p> <p>Assim, para que o ponteiro das horas mova uma posi√ß√£o, o Ponteiro dos Segundos precisa realizar 60 voltas completas, que √© equivalente a 3600 segundos.</p> <p><img src="https://upload.wikimedia.org/wikipedia/commons/3/37/Clock.gif" alt="https://upload.wikimedia.org/wikipedia/commons/3/37/Clock.gif"/></p> <p>Voltando para os rotores, em uma configura√ß√£o de rotores I-II-III, em que a corrente vem da plugboard para o rotor III.</p> <p>Para que o rotor II mova uma posi√ß√£o, eu preciso que o rotor III chegue no notch (letra V), que no caso do rel√≥gio eram 60 voltas completas com ponteiro iniciando no 12.</p> <p>Assim, quando o rotor III estiver na posi√ß√£o ‚ÄúV‚Äù, a pr√≥xima letra digitada far√° com que o rotor II mova uma posi√ß√£o.</p> <p>Cada rotor possui um notch diferente e por volta de 1941, tr√™s rotores foram introduzidos com dois notches, ou seja, faria com que o pr√≥ximo rotor girasse o dobro de vezes.</p> <h3 id="132-rings">1.3.2. Rings:</h3> <p>A configura√ß√£o dos ‚ÄòRings‚Äô ou An√©is afetava o mapeamento interno dos rotores e por sua vez, o notch.</p> <p>Esse anel era um c√≠rculo que ficava ao redor do rotor contendo o alfabeto impresso. Assim, era poss√≠vel rotacionar esse alfabeto alterando a permuta√ß√£o interna dos rotores.</p> <p>Caso a ‚ÄòRing Setting‚Äô do rotor de tipo IV fosse 2, o Notch seria alterado de ‚ÄúJ‚Äù para ‚ÄúH‚Äù.</p> <p><img src="Desvendando%20a%20Enigma%20Implementac%CC%A7a%CC%83o,%20Ataques%20Mode%20bbb34c806dce4b59854c956db0a71dfb/exploded.gif" alt="Visualiza√ß√£o de um Rotor e suas componentes. Retirado do CryptoMuseum."/></p> <p>Visualiza√ß√£o de um Rotor e suas componentes. Retirado do CryptoMuseum.</p> <h3 id="14-refletor">1.4. Refletor</h3> <p>Em seguida, temos o Refletor, que tamb√©m possui 26 contatos de um lado. Entretanto, ao contr√°rio dos Rotores, um contato √© conectado a outro do mesmo lado, retornando a corrente para fazer o caminho inverso at√© as l√¢mpadas.</p> <p>A Enigma possu√≠a tr√™s tipos de refletores, representados por:</p> <ul> <li>A : EJMZALYXVBWFCRQUONTSPIKHGD</li> <li>B : YRUHQSLDPXNGOKMIEBFZCWVJAT</li> <li>C : FVPJIAOYEDRZXWGCTKUQSBNMHL</li> </ul> <p>Para ilustrar:</p> <p>Em uma m√°quina Enigma equipada com um refletor do tipo B, quando o sinal correspondente a letra ‚ÄúA‚Äù chegava do rotor esquerdo para o refletor, o sinal passado de volta seria a letra ‚ÄúY‚Äù.</p> <p>Por causa desse componente que a m√°quina era capaz de tanto encriptar mensagens quanto decript√°-las, at√© porque cada letra segue um caminho sim√©trico.</p> <h3 id="2-configura√ß√£o-di√°ria">2. Configura√ß√£o Di√°ria</h3> <p>A Enigma operava todo dia com uma configura√ß√£o diferente, e essas eram anotadas em uma folha de papel com tinta sol√∫vel. Todo m√™s os operadores recebiam uma folha nova contendo 30 dias de configura√ß√µes, e em eventuais perdas, novas combina√ß√µes eram selecionadas.</p> <p>Essas configura√ß√µes eram as posi√ß√µes iniciais dos rotores, as posi√ß√µes dos an√©is, os rotores escolhidos e as conex√µes da plugboard.</p> <p><img src="Desvendando%20a%20Enigma%20Implementac%CC%A7a%CC%83o,%20Ataques%20Mode%20bbb34c806dce4b59854c956db0a71dfb/lw_key_2744_full.jpg" alt="Folha das configura√ß√µes pertencente a For√ßa A√©rea Alem√£ de n√∫mero 2744."/></p> <p>Folha das configura√ß√µes pertencente a For√ßa A√©rea Alem√£ de n√∫mero 2744.</p> <p>Um exemplo de Configura√ß√£o Di√°ria seria:</p> <p>Rotores - IV I III</p> <p>Posi√ß√£o de Rotores - CAT</p> <p>Posi√ß√£o dos An√©is - 01 25 04</p> <p>Conex√µes da Plugboard - AB DF UW CK LR</p> <p>Cada mensagem come√ßava com os <em>indicadores,</em> que eram tr√™s letras escolhidas pelo operador, ou seja, antes de inserir a mensagem desejada, os operadores configuravam a Enigma conforme a folha e digitavam, por exemplo, DOG DOG, que seriam encriptadas para outras 6 letras inseridas no topo da mensagem.</p> <h3 id="3-as-equa√ß√µes-da-enigma">3. As Equa√ß√µes da Enigma</h3> <h3 id="31-a-enigma">3.1. A Enigma:</h3> <p>O mecanismo da m√°quina Enigma simplificado pode ser descrito pela seguinte equa√ß√£o:</p> \[cifra = P_{lugboard} (R_{3}^{-1} (R_{2}^{-1}(R_{1}^{-1}(R_{efletor}(R_{3}(R_{2}(R_{1}(P_{lugboard}(letra))))))))),\] <p>onde $R_{i}, i\in\N^{*}$ s√£o os rotores.</p> <p>Perceba que nesta equa√ß√£o, ap√≥s o sinal passar do Refletor, os rotores recebem a nota√ß√£o de inverso. Isso ocorre, porque no caminho de volta do sinal a permuta√ß√£o do rotor utilizada √© a inversa.</p> <h3 id="32-rotores">3.2. Rotores:</h3> <h3 id="321-encriptar">3.2.1. Encriptar:</h3> <p>Uma letra encriptada por um rotor recebe:</p> \[c =(R[(letra+r) \mod 26] -r) \mod 26,\] <p>onde $r$ √© a rota√ß√£o, que, logicamente, $r \in [0, (n-1)]$, para $n$ o tamanho do m√≥dulo</p> <p>e $R$ √© o array de int obtido pelo pseudo-c√≥digo abaixo:</p> <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">para</span> <span class="n">cada</span> <span class="kt">char</span> <span class="n">pertencente</span> <span class="n">a</span> <span class="kt">char</span><span class="o">[]</span> <span class="nc">Permutacao</span>
		<span class="n">R_i</span> <span class="o">&lt;-</span> <span class="kt">char</span><span class="o">-</span><span class="mi">65</span>  <span class="c1">// Tabela ASCII</span>
<span class="c1">// OBS: O char letra, correspondente a letra a ser encriptada</span>
<span class="c1">// tamb√©m √© convertida para inteiro.</span>
</code></pre></div></div> <p>Vale relembrar, que conforme explicitado em 3.1, o array R quando est√° no caminho de volta √© a Permuta√ß√£o Inversa $(R^{-1})$.</p> <p>Quando a configura√ß√£o de anel √© diferente de 0, a equa√ß√£o pode ser vista como:</p> \[c=(R[(p+pos-ring)\mod 26] - pos +ring) \mod 26\] <h3 id="322-movimentar">3.2.2. Movimentar:</h3> <p>Como a permuta√ß√£o de cada rotor j√° est√° armazenada em um array de int, para girar um desses rotores, basta realizar:</p> \[posRotor_{i+1} = (posRotor_{i} + 1) \mod 26\] <h3 id="33-testes-de-mensagem">3.3. Testes de Mensagem:</h3> <p>Para testar o funcionamento da Enigma implementada, √© necess√°rio escolher as configura√ß√µes iniciais dos rotores, rings e as conex√µes da plugboard e cifrar um texto arbitr√°rio.</p> <p>A mensagem original √© obtida de volta quando se encripta a cifra com as mesmas configura√ß√µes iniciais em que a mensagem foi encriptada.</p> <p>Dada a mensagem $m =\ ‚ÄúGRISUFRJ‚Äù$, o teste ser√° encriptar m com as seguintes condi√ß√µes:</p> <p>$Rotores=(I,II,III), \ Keys=(E,D,P), \ Rings=(4,3,14) \ e \ Plugboard=(AB, EH, JD)$.</p> <p><img src="Desvendando%20a%20Enigma%20Implementac%CC%A7a%CC%83o,%20Ataques%20Mode%20bbb34c806dce4b59854c956db0a71dfb/ENIGMA_TEST1.png" alt="ENIGMA_TEST1.png"/></p> <h2 id="quebrando-a-enigma">Quebrando a Enigma</h2> <h3 id="4-a-trajet√≥ria-das-solu√ß√µes">4. A Trajet√≥ria das Solu√ß√µes</h3> <h3 id="41-the-cipher-bureau">4.1. The Cipher <strong>Bureau</strong></h3> <p>Em 1928, o ex√©rcito alem√£o come√ßou a realizar testes no suposto novo sistema de criptografia. Ap√≥s o t√©rmino da Primeira Guerra Mundial, a Fran√ßa e a Gr√£-Bretanha n√£o pensavam que a Alemanha seria uma amea√ßa, contudo a Pol√¥nia se manteve cautelosa.</p> <p>Ent√£o, o Servi√ßo Secreto Polon√™s organizou um curso em Criptoan√°lise para estudantes de Matem√°tica na Universidade de Poznan. O curso foi ministrado pelo professor Zdzis≈Çaw Krygowski em 1929 para os tr√™s alunos que mais se destacavam, eram eles: Marian Rejwski, Henryk Zygalski, Jerzy R√≥zycki. Com o t√©rmino do curso, os tr√™s aceitaram a proposta para trabalhar na an√°lise dessa nova m√°quina de criptografia.</p> <p><img src="Desvendando%20a%20Enigma%20Implementac%CC%A7a%CC%83o,%20Ataques%20Mode%20bbb34c806dce4b59854c956db0a71dfb/Polish.png" alt="Marian Rejwski, Henryk Zygalski e Jerzy R√≥zycki, da esquerda para a direita."/></p> <p>Marian Rejwski, Henryk Zygalski e Jerzy R√≥zycki, da esquerda para a direita.</p> <p>De in√≠cio, v√°rios testes estat√≠sticos foram realizados nas cifras intereceptadas, e pelo ‚Äú√çndice de Coincid√™ncia‚Äù, que ser√° abordado com mais detalhes, conseguiram determinar que essas mensagens muito provavelmente vieram de uma cifra polialfab√©tica, como a <a href="https://en.wikipedia.org/wiki/Vigen%C3%A8re_cipher">cifra de Vigen√®re</a>.</p> <p>O sistema de criptografia at√© ent√£o estudado s√≥ foi identificado como uma vers√£o da m√°quina Enigma por causa de um Espi√£o Alem√£o apelidado de ‚ÄúAsche‚Äù, que trabalhava em uma ag√™ncia de criptografia. Asche, ent√£o, passou as informa√ß√µes para a a intelig√™ncia Francesa com provas documentadas em troca de dinheiro, que por sua vez compartilhou esse material com os Brit√¢nicos e os Polon√™ses.</p> <p>Em 1932, o matem√°tico polon√™s Marian Rejwski conseguiu determinar o mapeamento interno dos rotores da Enigma Militar. Ele percebeu que esse mapeamento pode ser descrito como um Grupo de Permuta√ß√£o, que n√£o ser√° aprofundado nesse artigo (talvez futuramente?).</p> <p>Assim, em 1934 foi criado o <a href="https://en.wikipedia.org/wiki/Cyclometer">‚ÄòCyclometer‚Äô</a>, que se baseava no fato das tr√™s primeiras letras de uma dada cifra, serem id√™nticas √†s pr√≥ximas tr√™s, que formavam a ‚ÄòMessage Key‚Äô. Essa m√°quina era capaz de retornar uma lista com mais de 100.000 ‚Äòcycle entries‚Äô, que eram as ‚ÄòMessage Keys‚Äô.</p> <p>Em 1938, Henryk Zygalski criou as <a href="https://en.wikipedia.org/wiki/Zygalski_sheets">‚ÄúZygalski Sheets‚Äù</a> que era uma solu√ß√£o baseada em papel (folhas perfuradas), que tamb√©m dependia das tr√™s primeiras letras de uma mensagem serem id√™nticas √†s pr√≥ximas tr√™s.</p> <p>Esse ataque funcionou at√© 1938, quando o ex√©rcito alem√£o alterou seu modo de opera√ß√£o de uso da Enigma.</p> <p>Ent√£o, a equipe construiu a <a href="https://en.wikipedia.org/wiki/Bomba_(cryptography)">‚ÄúBomba Kryptologiczna‚Äù</a>, que procurava por configura√ß√µes em que a primeira e quarta letra da mensagem fossem iguais, devido ao mesmo fator explorado acima. Em termos de desempenho, essa m√°quina era capaz de encontrar a solu√ß√£o em 110 minutos, isso √©, antes dos Alem√£es introduzirem dois novos rotores ( IV e V ) em 1939. Apesar do tempo da solu√ß√£o ser inferior a duas horas, eram necess√°rias 60 Bombes para recuperar a mensagem original, o que era extremamente caro de se produzir.</p> <p>Assim, sua pesquisa foi passada para os Brit√¢nicos para que continuassem √† procurar maneiras de eficientemente decriptar as mensagens interceptadas.</p> <h3 id="42-bletchley-park">4.2. Bletchley Park</h3> <p>Assim como a Pol√¥nia, os ingleses come√ßaram a busca por matem√°ticos para trabalhar no Government Code and Cipher School (GC&amp;CD). Localizado no Bletchey Park, trabalhavam nesse projeto Dilly Knox e Tony Kendrick, que foram acompanhados em seguida de Peter Twinn, Gordon Welchman e Alan Turing.</p> <p><img src="Desvendando%20a%20Enigma%20Implementac%CC%A7a%CC%83o,%20Ataques%20Mode%20bbb34c806dce4b59854c956db0a71dfb/BritshEnigma.png" alt="Harold ‚ÄòDoc‚Äô Keen, Alan Turing e Gordon Welchman, da esquerda para a direita."/></p> <p>Harold ‚ÄòDoc‚Äô Keen, Alan Turing e Gordon Welchman, da esquerda para a direita.</p> <p>Depois que os Alem√£es mudaram a forma que as Message Keys eram geradas, Alan Turing otimizou a solu√ß√£o dos polacos da ‚ÄòBomba Kryptologiczna‚Äô para que procurassem por peda√ßos de textos conhecidos na mensagem original ao inv√©s das ‚ÄòMessage Keys‚Äô. Esse ataque √© conhecido como ‚ÄúKnown-Plaintext‚Äù.</p> <p>Diferentemente da ‚ÄòBomba‚Äô dos Polacos que testavam rotores que se encaixavam com a ‚ÄòMessage Key‚Äô, a m√°quina criada por Turing testava todas as configura√ß√µes poss√≠veis, procurando as que permitiam a cifra conter a mensagem desejada. Essa solu√ß√£o ser√° abordada com mais detalhes no t√≥pico 5.1.</p> <p>Enquanto isso, Gordon Welchman procurou solu√ß√µes baseadas nas Folhas Perfuradas de Henryk Zygalski para a Plugboard. Esse estudo resultou na ‚ÄúDiagonal Board‚Äù, que conectava todas as letras $(# L)$ √† todas as outras letras $(#L-1)$.</p> <p>As Bombes desenvolvidas por Turing juntamente com a Diagonal Board de Welchman, reduziram significativamente (em milhares) o n√∫mero de configura√ß√µes de rotores a serem analisados.</p> <p>A partir desse design, o engenheiro Harold ‚ÄúDoc‚Äù Keen, que trabalhava na ‚ÄúBritish Tabulating Machines‚Äù (BTM) ficou respons√°vel por construir essa m√°quina. Doc j√° havia come√ßado a construir a m√°quina de Turing, e com esse novo design de Welchman ele precisou ajustar esse novo maquin√°rio, que ficou conhecido como Bombe. Ao longo da Guerra, foram constru√≠das mais de 200 Bombes na Inglaterra.</p> <p>As Wrens (‚ÄôWomen‚Äôs Royal Naval Service‚Äô) eram respons√°veis por operar essas m√°quinas, passando para os criptoanalistas os resultados, que por sua vez conferiam se a configura√ß√£o era correta e passavam outra mensagem para as operadoras.</p> <p><a href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR6eibbgfRqIwS7Ntnjb6d5CpK0-SOPEyRxoNsrVj5P3wP7fmC-FLb4qU6InVKfdrhAviU&amp;usqp=CAU">https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR6eibbgfRqIwS7Ntnjb6d5CpK0-SOPEyRxoNsrVj5P3wP7fmC-FLb4qU6InVKfdrhAviU&amp;usqp=CAU</a></p> <h3 id="5-problemas-da-enigma">5. Problemas da Enigma</h3> <h3 id="51-uma-letra-nunca-√©-encriptada-para-ela-mesma">5.1. Uma letra nunca √© encriptada para ela mesma</h3> <p>(Exemplo Retirado de Numberphile).</p> <p>Essa caracter√≠stica possibilitou que ataques de known-plaintext fossem realizados, uma vez que um Crib (peda√ßo de texto que voc√™ sabe que pertence √† mensagem) est√° em uma cifra onde as letras nunca s√£o elas mesmas.</p> <blockquote> <p>Cipher: J X A T Q B Q G Y W C R Y B G D T</p> </blockquote> <p>Crib: W E T T E R B E R I C H T</p> <blockquote> </blockquote> <p>Passando o ‚Äòcrib‚Äô pela mensagem encriptada, encontramos essa posi√ß√£o, em que h√° a possibilidade de ser a posi√ß√£o em que o Crib se encontra.</p> <blockquote> <p>Cipher: J X A T Q B Q G Y W C R Y B G D T</p> </blockquote> <p>Crib: W E T T E R B E R I C H T</p> <blockquote> </blockquote> <p>A m√°quina de Turing-Welchman possibilitava a dedu√ß√£o das conex√µes da Plugboard por causa dessa caracter√≠tisca. Vejamos no exemplo, a letra T passa pela plugboard, rotores, refletor e realiza o caminho de volta at√© chegar na lampboard como a letra E.</p> <p>A Bombe d√° um palpite de uma conex√£o na plugboard com a letra T, digamos o par ‚ÄúAT‚Äù.</p> <p>Descobrir o resultado final depois da letra T, agora A, passar pelos rotores √© relativamente f√°cil com a m√°quina construida, ent√£o, assuma que o resultado antes da volta da plugboard seja a letra P.</p> <p>Isso significa que P estaria conectado a letra E, pois o √∫ltimo elemento que poderia alterar a letra P para E, seria uma conex√£o na plugboard de volta e com o chute inicial prosseguimos na procura dessas conex√µes.</p> <p>A letra T passa pelas componentes da Enigma e antes de virar Q, ela √© K, logo K e Q est√£o conectadas. O mesmo racioc√≠nio se aplica para T e B, obtendo-se o par XB.</p> <p>Contudo, quando a letra T √© encriptada para G, antes de passar pelos rotores no caminho inverso, ela tem forma ‚ÄúT‚Äù e a √∫nica conex√£o que possibilitaria funcionar, seria o par TG, o que √© uma contradi√ß√£o, visto que T j√° est√° conectado com A e uma mesma letra n√£o pode ter duas conex√µes distintas. Logo, o par AT n√£o est√° conectado na plugboard.</p> <p>Como todas essas conex√µes vieram de uma id√©ia errada, todas elas podem ser descartadas e n√£o precisam ser checadas novamente, economizando muito tempo de processamento.</p> <p>Curiosidade: Ap√≥s o fim da Guerra, os Brit√¢nicos criaram uma m√°quina baseada na Enigma corrigindo essa falha, se chama TypeX.</p> <h3 id="52-an√©is-n√£o-acrescentam-tanta-seguran√ßa">5.2. An√©is n√£o acrescentam tanta seguran√ßa</h3> <p>Dada uma mensagem C, ap√≥s um estudo em Criptoan√°lise foram descobertos os rotores escolhidos. Se colocados na ordem em que a mensagem foi encriptada e o anel do rotor direito estiver errado, algumas partes da mensagem ainda s√£o leg√≠veis.</p> <p>Lembrando que o rotor direito √© o mais r√°pido, ou seja, o rotor em que a Ring Setting mais afetaria o resultado. Tanto que no ataque brute-force implementado (que veremos depois), o anel esquerdo sempre ser√° zero, j√° que pro anel do meio afetar dr√°sticamente a mensagem, ela deve ter no m√≠nimo $26\cdot 25=650$ letras.</p> <h3 id="6-gilloglys-attack">6. <strong>Gillogly‚Äôs</strong> Attack</h3> <p>Esse ataque brute-force foi publicado em 1995 na Cryptologia por Ph.D. James J. Gillogly.</p> <p>Ele consiste em encontrar as componentes da enigma utilizadas e na ordem que melhor se encaixam individualmente atrav√©s de testes estat√≠sticos.</p> <p>Como durante a Segunda Guerra um ataque brute-force ciphertext only n√£o era vi√°vel, tanto pelos tamanhos das mensagens que deveriam ser curtas (apesar dessa restri√ß√£o ter sido desrespeitada diversas vezes) quanto pelo poder computacional da √©poca, as solu√ß√µes vistas anterioemente se baseavam em known plaintext attacks. Com o poder computacional atual e com mensagens de tamanho arbitrariamente grande, √© poss√≠vel implementar um ataque ciphertext only.</p> <h3 id="61-quantidade-de-configura√ß√µes">6.1. Quantidade de Configura√ß√µes:</h3> <p>Para dar uma no√ß√£o de como se daria a quantidade de diferentes configura√ß√µes podem ser utilizadas:</p> <ul> <li> <p>Uma m√°quina Enigma cont√©m 3 rotores funcionando simultaneamente, logo devem ser escolhidos 3 de 8 rotores dispon√≠veis, o que √© equivalente a um arranjo simples.</p> \[A_{8,3}=\frac{8!}{(8-3)!}=8\cdot7\cdot6=336\] </li> <li> <p>Para cada escolha de rotores, devem ser testadas 26 posi√ß√µes iniciais, que √©:</p> </li> </ul> \[26\cdot26\cdot26=17576\] <ul> <li>Al√©m disso, para cada uma dessas possibilidades acima, as configura√ß√µes de an√©is deveriam ser checadas. Contudo, como j√° foi explicitado nos problemas da enigma, podemos ignorar pelo menos o anel do rotor esquerdo e mant√™-lo como zero, o que resulta em:</li> </ul> \[1\cdot26^2=676\] <ul> <li>Por fim, devemos encontrar as conex√µes na Plugboard, que no m√°ximo tem 10 pares conectados. Sabemos ent√£o, que: <ol> <li>6 letras n√£o est√£o conectadas</li> <li>A ordem dos pares agrupados n√£o importa : (Par1, Par2, ‚Ä¶, Par10) = (Par10, Par1, ‚Ä¶, Par2)</li> <li>A ordem em que as letras s√£o conectadas tamb√©m n√£o importa (‚ÄùAB‚Äù = ‚ÄúBA‚Äù)</li> </ol> <p>Assim, obtemos:</p> \[\frac{26!}{6!\cdot10!\cdot2^{10}}=150738274937250\] </li> </ul> <p>O total de possibilidades torna a checagem de cada uma das configura√ß√µes imposs√≠vel. Felizmente, esse n√∫mero astron√¥mico pode ser reduzido com ferramentas estat√≠sticas, filtrando os melhores resultados em cada etapa.</p> <h3 id="62-√≠ndice-de-coincid√™ncia">6.2. √çndice de Coincid√™ncia:</h3> <p>O √≠ndice de coindic√™ncia, ou teste Kappa, √© definido pela probabilidade de escolher duas letras iguais de uma mesma mensagem encriptada, seja ela uma cifra mono ou polialfab√©tica.</p> <p>A sua f√≥rmula √© facilmente obtida:</p> \[IoC=\frac{n_a}{N}\cdot\frac{(n_a-1)}{(N-1)} + \frac{n_b}{N}\cdot\frac{(n_b-1)}{(N-1)}+\frac{n_c}{N}\cdot\frac{(n_c-1)}{(N-1)}+\ldots +\frac{n_z}{N}\cdot\frac{(n_z-1)}{(N-1)}\] <p>onde $n_i$ representa a frequ√™ncia da letra $i$ na cifra e $N$ representa o tamanho da mensagem.</p> <p>Assim, a f√≥rmula pode ser reduzida a:</p> \[IoC=\frac{\displaystyle\sum _{i=a}^{z}n_{i}(n_i-1)}{N(N-1)}\] <p>Foi atrav√©s dessa ferramenta que os polacos foram capazes de descobrir que se tratava de uma cifra polialfab√©tica, <em>mas como?</em></p> <h3 id="621-cifra-monoalfab√©tica-x-cifra-polialfab√©tica">6.2.1. Cifra Monoalfab√©tica x Cifra Polialfab√©tica:</h3> <p>As frequ√™ncias de letras em uma cifra monoalfab√©tica s√£o muito vol√°teis, algumas apresentam altas frequ√™ncias e outras muito baixas, enquanto as frequ√™ncias de uma cifra polialfab√©tica tendem a se manter pr√≥ximas umas das outras, ou seja, uma distribui√ß√£o mais suave.</p> <p>Assim, dado um texto em ingl√™s, sua cifra polialfab√©tica tende a aproximadamente 0.0380, enquanto uma monoalfab√©tica chega a 0.0656 aproximadamente.</p> <p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d5/English_letter_frequency_%28alphabetic%29.svg/1024px-English_letter_frequency_%28alphabetic%29.svg.png" alt="Distribui√ß√£o de frequ√™ncias na l√≠ngua inglesa."/></p> <p>Distribui√ß√£o de frequ√™ncias na l√≠ngua inglesa.</p> <h3 id="63-trigram">6.3. Trigram:</h3> <p>O trigram √© um caso de N-gram, que √© usado para processamento de linguagem natural em an√°lise est√°tistica de textos. O trigram procura responder a seguinte pergunta: qual a probabilidade de ocorrer uma sequ√™ncia espe√≠fica de tr√™s elementos consecutivos no texto?</p> <p>Ent√£o, em termos de probabilidade, dado dois termos anteriores $\omega_1, \omega_2$, qual a probabilidade do pr√≥ximo ser $\omega_3$?</p> \[P(\omega_1,\omega_2,\omega_3)=\prod_{i=3}P(\omega_3|\omega_1,\omega_2)\] \[P(\omega_i|\omega_{i-1},\omega_{i-2})=\frac{count(\omega_{i-2},\omega_{i-1},\omega_i)}{count(\omega_{i-2},\omega_{i-1})}\] <p>O modelo escolhido para a an√°lise estat√≠stica da mensagem encriptada foi retirado do site <a href="http://practicalcryptography.com/cryptanalysis/letter-frequencies-various-languages/english-letter-frequencies/">PracticalCryptography</a>.</p> <h3 id="65-ordem-dos-rotores">6.5. Ordem dos Rotores:</h3> <p>De √≠nicio, a Enigma deve manter os an√©is em (0,0,0) e a plugboard sem conex√µes.</p> <p>Para cada uma das 336 op√ß√µes de rotores dispon√≠veis, come√ßa a busca por suas posi√ß√µes iniciais.</p> <p>A configura√ß√£o que melhor atende √† mensagem ser√° obtida ao encriptar novamente a mensagem e calcular o √çndice de Coincid√™ncia dessa nova cifra.</p> <p>Por minha escolha, mantive os 3 melhores resultados e seus poss√≠veis plaintexts.</p> <p>Observe que, por come√ßar com an√©is em $(0,0,0)$ o c√≥digo tentar√° ajustar as posi√ß√µes iniciais compensando os an√©is.</p> <h3 id="66-ordem-dos-an√©is">6.6. Ordem dos An√©is:</h3> <p>Com os 3 melhores rotores e respectivas posi√ß√µes iniciais, procuramos pelos an√©is que mais aproximam a mensagem encriptada de uma l√≠ngua natural.</p> <p>Conforme falado na se√ß√£o 6.1, a busca pelo anel do rotor esquerdo √© desnecess√°ria, visto que ele quase nunca roda, ficando ent√£o com a busca de 676 diferentes posi√ß√µes de an√©is, totalizando:</p> \[3\cdot676=2028\] <p>Novamente, utiliza-se o √çndice de Coincid√™ncia e classifico novamente em rela√ß√£o sua pontua√ß√£o. Contudo, diferentemente da busca dos rotores, √© poss√≠vel descobrir sua pontua√ß√£o em IoC individualmente.</p> <p>Configure os an√©is para $(0,0,i)$, onde $i$ √© o anel correspondente ao √≠ndice do la√ßo ‚Äòfor‚Äô e inicie a busca pelo melhor anel para o rotor direito e mantenha o valor de $i$ que melhor pontuou no √≠ndice de coincid√™ncia, aqui armazenaremos ele como $i_{bestScore}$.</p> <p>Para o segundo anel, utilize outro la√ßo ‚Äòfor‚Äô passando agora pelo rotor do meio com configura√ß√£o de anel $(0, j, i_{bestScore})$ e de novo encripte a mensagem com a configura√ß√£o correspondente e mantenha o valor $j$ com melhor pontua√ß√£o.</p> <aside> üí° Caso ache adequado, o IoC pode ser substitu√≠do pelo Bigram. O modelo pode ser encontrado juntamente com o do Trigram que falei acima. </aside> <h3 id="67-conex√µes-da-plugboard">6.7. Conex√µes da Plugboard:</h3> <p>O passo final do algoritmo recebe a melhor configura√ß√£o de Enigma at√© ent√£o e procura por conex√µes que aumentam sua pontua√ß√£o no Trigram.</p> <p>A fun√ß√£o que eu implementei recebe como par√¢metro a quantidade de conex√µes desejada, mas caso desejar pode manter o valor m√°ximo 10 como padr√£o.</p> <p>Em um la√ßo de $n_{conex√µes}$ itera√ß√µes, procuro o conector com melhor pontua√ß√£o no Trigram e mantenho essa conex√£o na Enigma, ou seja, em cada itera√ß√£o um par de letras √© escolhido e ‚Äòplugado‚Äô na Enigma virtual, sempre em busca de um conector que melhore sua pontua√ß√£o.</p> <h3 id="67-resultados">6.7. Resultados:</h3> <p>A mensagem encriptada √©:</p> <aside> ‚ùì FXXUKZEPMPCJWZVYXRFPZYZPJFTBUDOIVKATVIFZZWKYSXASNIBMUIYOYTUFTZBWEQTNPLJBDKPUAKCKKYLIDUIKHOUVMQRZFDKXIGUNWAABMNAUAJNTHPPENQMAWKOSHVUJLPVWYNCLCJGDUWBMFKCCMRLDZAZKMOMOVOKNSLWKACJPBFKMFTLSXREIMOGGXITTCYPVSSJTOETFGNJCIRQPSOOXGFAWYIHDLVTXNYBJZEL // IoC = 0.03748, confirmando que √© uma cifra polialfab√©tica </aside> <h3 id="671-rotores">6.7.1. Rotores:</h3> <aside> ‚ùì 1¬∫ PLACE IOC: 0.053022046 BEST KEYS: [K, A, A] ROTORS: [III, II, IV] POSSIBLE PLAIN TEXT: POLISXSILBRITISESOLUTIONSTOHNJRUSIMAGHRMDNHNIGKDHNIGMDTRDKFGLYURBRKUIKKZYIDJLNKDIUMLAQOMMDINTHXTDYTDCKSTEWTOTIOWVRINMWDGKNOLNTERXUGEBRIQAKGNTCRRPTDNDLYSISBRTIHPOQXQWMDTEHMDWICIDNMDRIDNRHPNISKIDNALDTHRTEROUYECDPTURZYAODVDLHVIGMKMNIGMDROTOBS // Como utilizei poucas conex√µes de plugboard, partes do texto j√° s√£o identific√°veis 2¬∫ PLACE IOC: 0.047958933 BEST KEYS: [I, T, I] ROTORS: [V, IV, II] POSSIBLE PLAIN TEXT: WHENHDNHPIRCPDZRIXNZJHTRAIOHAHQHZVKLHRMHIHUPWOJDGCSJAHUWHIGHWKMHQVHFWVIJVXIFWIJHNXYYNOQUXRJHIHMKRWGWBFCTMQEVOVOMZGGHULRIXJVCKGIBGMABSICSIEMVDRHHIXHNXHRDQTNGNSKHIAHUSUGRIOJRCIQHGHZQLRHRWOBHSXXVYXBGFBNYCQMUUGPXCTDWGIEOAIPAOGTGGCCOPQQLPBPGJCW 3¬∫ PLACE IOC: 0.04771281 BEST KEYS: [C, I, Z] ROTORS: [II, III, V] POSSIBLE PLAIN TEXT: IHPONCOQQQJCSEZCUDGZWTPRPEMMIBBPERUEOAATCPJMPQIAJEFOBQUBBORVVICGBMLCNVFWAJJPCISWIVVARLEUECIQWLESOPGPYQQTRIBPPTJFDBBEUBBQEECJYXGKATPBCONBJJSREYZCQEPOJEQARGJIJJDXSKFXQIDIOCQJGJLQRACFJJPNQOTGBZOQEBBJMLBBNJVFHDSPLUGVOIIICREVJXWCIROCINZTRIDPVMQ </aside> <h3 id="672-an√©is">6.7.2. An√©is:</h3> <aside> ‚ùì 1¬∫ PLACE ROTORS: [III, II, IV] KEY: [K, A, A] BEST RINGS: [1, 2, 5] SCORE: 0.056362294 POSSIBLE PLAIN TEXT: POLISETNABRITISESOLUTIONSTOHNJRYPTRAGHRMDNHNIGKDHNIGMDTRDFFICRHLCHAONSOPZISTXCDTHAKNHWNPMDINTHXTDYTDCKSTEWTOTOYWVRINMWDGKNOLNTERXUGEBRILLIDNTCRRPTDNDLYSISBRTIHPOLISEMDTEHMDWICIDNMDRIDNRHPHWSKIDNALDTHRTEROUYECDPTURHOFNDVDLHVIGMKMNIGMDROTOBS // Perceba que teve um aumento no IoC, melhorando ainda mais o texto. </aside> <h3 id="673-plugboard">6.7.3. Plugboard:</h3> <aside> ‚ùì BEST PLUGBOARD SETTING: [EH, AD] POSSIBLE PLAIN TEXT: POLISHANDBRITISHSOLUTIONSTOENCRYPTEDGERMANENIGMAENIGMATRAFFICRELIEDONSOPHISTICATEDKNOWNPLAINTEXTATTACKSTHEROTORWIRINGWASKNOWNTHROUGHBRILLIANTCRYPTANALYSISBYTHEPOLISHMATHEMATICIANMARIANREJEWSKIANDLATERTHROUGHCAPTUREOFNAVALENIGMAENIGMAROTORS // Aqui a mensagem original j√° est√° completamente recuperada. </aside> <h3 id="674-observa√ß√µes">6.7.4. Observa√ß√µes:</h3> <p>O ataque implementado, mesmo apresentando √≥timos resultados, tem suas limita√ß√µes.</p> <p>Conforme j√° explicitado nos motivos dos polacos n√£o terem implementado um ataque ciphertext only, a mensagem precisa ter pelo menos 250 caracteres para apresentar bons resultados.</p> <p>A mensagem apresentada possui esse limite de caracteres, contudo, tem somente 2 conex√µes na plugboard. Caso a mensagem intereceptada tenha mais de 5 plugs, ser√£o necess√°rios mais caracteres para uma an√°lise funcional.</p> <p>Quando a mensagem √© o caso acima (muitas conex√µes na plugboard), provavalmente o texto final apresentar√° partes corretas e outras nem tanto.</p> <p>Al√©m disso, como o modelo utilizado foi feito em Ingl√™s, a pontua√ß√£o tamb√©m se d√° na l√≠ngua inglesa. Para que esse ataque decripte mensagens em outras l√≠nguas, seria necess√°rio outros modelos desses idiomas.</p> <h3 id="7-refer√™ncias">7. Refer√™ncias:</h3> <ul> <li><strong>SOLVING THE ENIGMA - HISTORY OF THE CRYPTANALYTIC BOMBE:</strong> <a href="https://media.defense.gov/2022/Sep/29/2003087366/-1/-1/0/SOLVING%20THE%20ENIGMA%20-%20HISTORY%20OF%20THE%20CRYPTANALYTIC%20BOMBE.PDF">https://media.defense.gov/2022/Sep/29/2003087366/-1/-1/0/SOLVING THE ENIGMA - HISTORY OF THE CRYPTANALYTIC BOMBE.PDF</a></li> <li><strong>THE ENIGMA HISTORY AND MATHEMATICS BY STEPHANIE FAINT (TESE DE MESTRADO):</strong> <a href="https://core.ac.uk/download/pdf/144149789.pdf">https://core.ac.uk/download/pdf/144149789.pdf</a></li> <li><strong>PERMUTATION GROUPS AND THE SOLUTION OF GERMAN ENIGMA CIPHER:</strong> <a href="https://www.karlin.mff.cuni.cz/~tuma/nciphers/oulu.pdf">https://www.karlin.mff.cuni.cz/~tuma/nciphers/oulu.pdf</a></li> <li><strong>AN APPLICATION OF THE THEORY OF PERMUTATIONS IN BREAKING THE ENIGMA CIPHER:</strong> <a href="https://www.impan.pl/Great/Rejewski/article.html">https://www.impan.pl/Great/Rejewski/article.html</a></li> <li><strong>CIPHERTEXT-ONLY CRYPTANALYSIS OF ENIGMA BY JAMES J. GILLOGLY:</strong> <a href="https://web.archive.org/web/20060720040135/http://members.fortunecity.com/jpeschel/gillog1.htm">https://web.archive.org/web/20060720040135/http://members.fortunecity.com/jpeschel/gillog1.htm</a></li> <li><strong>THE ENIGMA MACHINE:</strong> <a href="https://uwillnvrknow.github.io/deCryptMe/pages/enigma.html">https://uwillnvrknow.github.io/deCryptMe/pages/enigma.html</a></li> <li><strong>Marie-Jos√© Durand-Richard, Philippe Guillot. From Pozna≈Ñ to Bletchley Park : the history of cracking the ENIGMA machine. CIIT Lab Workshop on History of Cryptography, Faculty of Electronic Engineering, Nis (Serbie), Oct 2017, Nis, Serbia. pp.1-43. ffhalshs-03949790f:</strong> <a href="https://shs.hal.science/halshs-03949790/document">https://shs.hal.science/halshs-03949790/document</a></li> <li><strong>CRACKING THE ENIGMA MACHINE - REJEWSKI, TURING AND THE MATH THAT SAVED THE WORLD:</strong> <a href="https://pt.slideshare.net/BradYoung/cracking-the-enigma-machine-rejewski-turing-and-the-math-that-saved-the-world">https://pt.slideshare.net/BradYoung/cracking-the-enigma-machine-rejewski-turing-and-the-math-that-saved-the-world</a></li> <li><strong>ZYGALSKI SHEETS:</strong> <a href="https://journal.sciencemuseum.ac.uk/article/zygalski-sheets-polish-codebreaking-and-the-role-of-reconstruction-in-the-top-secret-exhibition-at-the-science-museum/#text-2">https://journal.sciencemuseum.ac.uk/article/zygalski-sheets-polish-codebreaking-and-the-role-of-reconstruction-in-the-top-secret-exhibition-at-the-science-museum/#text-2</a></li> <li><strong>ENIGMA ROTOR DETAILS:</strong> <a href="https://en.wikipedia.org/wiki/Enigma_rotor_details#Ring_setting">https://en.wikipedia.org/wiki/Enigma_rotor_details#Ring_setting</a></li> <li><strong>ENIGMA MACHINE WITH 256 PIN ROTORS:</strong> <a href="https://www.kopaldev.de/2022/06/13/cryptography-for-everybody-the-ascii-enigma-an-enigma-machine-with-256-pin-rotors/">https://www.kopaldev.de/2022/06/13/cryptography-for-everybody-the-ascii-enigma-an-enigma-machine-with-256-pin-rotors/</a></li> </ul>]]></content><author><name></name></author><category term="sample-posts"/><category term="ECC"/><summary type="html"><![CDATA[Material Did√°tico sobre Criptografia de Curvas El√≠pticas com toda a matem√°tica necess√°ria.]]></summary></entry><entry><title type="html">a post with code diff</title><link href="https://zezedp.github.io/blog/2024/code-diff/" rel="alternate" type="text/html" title="a post with code diff"/><published>2024-01-27T19:22:00+00:00</published><updated>2024-01-27T19:22:00+00:00</updated><id>https://zezedp.github.io/blog/2024/code-diff</id><content type="html" xml:base="https://zezedp.github.io/blog/2024/code-diff/"><![CDATA[<p>You can display diff code by using the regular markdown syntax:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">diff
</span><span class="gh">diff --git a/sample.js b/sample.js
index 0000001..0ddf2ba
</span><span class="gd">--- a/sample.js
</span><span class="gi">+++ b/sample.js
</span><span class="p">@@ -1 +1 @@</span>
<span class="gd">-console.log("Hello World!")
</span><span class="gi">+console.log("Hello from Diff2Html!")</span>
<span class="p">```</span>
</code></pre></div></div> <p>Which generates:</p> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/sample.js b/sample.js
index 0000001..0ddf2ba
</span><span class="gd">--- a/sample.js
</span><span class="gi">+++ b/sample.js
</span><span class="p">@@ -1 +1 @@</span>
<span class="gd">-console.log("Hello World!")
</span><span class="gi">+console.log("Hello from Diff2Html!")
</span></code></pre></div></div> <p>But this is difficult to read, specially if you have a large diff. You can use <a href="https://diff2html.xyz/">diff2html</a> to display a more readable version of the diff. For this, just use <code class="language-plaintext highlighter-rouge">diff2html</code> instead of <code class="language-plaintext highlighter-rouge">diff</code> for the code block language:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">diff2html
</span><span class="sb">diff --git a/sample.js b/sample.js
index 0000001..0ddf2ba
--- a/sample.js
+++ b/sample.js
@@ -1 +1 @@
-console.log("Hello World!")
+console.log("Hello from Diff2Html!")</span>
<span class="p">```</span>
</code></pre></div></div> <p>If we use a longer example, for example <a href="https://github.com/rtfpessoa/diff2html/commit/c2c253d3e3f8b8b267f551e659f72b44ca2ac927">this commit from diff2html</a>, it will generate the following output:</p> <pre><code class="language-diff2html">From 2aaae31cc2a37bfff83430c2c914b140bee59b6a Mon Sep 17 00:00:00 2001
From: Rodrigo Fernandes &lt;rtfrodrigo@gmail.com&gt;
Date: Sun, 9 Oct 2016 16:41:54 +0100
Subject: [PATCH 1/2] Initial template override support

---
 scripts/hulk.js                    |  4 ++--
 src/diff2html.js                   |  3 +--
 src/file-list-printer.js           | 11 ++++++++---
 src/hoganjs-utils.js               | 29 +++++++++++++++++------------
 src/html-printer.js                |  6 ++++++
 src/line-by-line-printer.js        |  6 +++++-
 src/side-by-side-printer.js        |  6 +++++-
 test/file-list-printer-tests.js    |  2 +-
 test/hogan-cache-tests.js          | 18 +++++++++++++++---
 test/line-by-line-tests.js         |  3 +--
 test/side-by-side-printer-tests.js |  3 +--
 11 files changed, 62 insertions(+), 29 deletions(-)

diff --git a/scripts/hulk.js b/scripts/hulk.js
index 5a793c18..a4b1a4d5 100755
--- a/scripts/hulk.js
+++ b/scripts/hulk.js
@@ -173,11 +173,11 @@ function namespace(name) {
 // write a template foreach file that matches template extension
 templates = extractFiles(options.argv.remain)
   .map(function(file) {
-    var openedFile = fs.readFileSync(file, 'utf-8');
+    var openedFile = fs.readFileSync(file, 'utf-8').trim();
     var name;
     if (!openedFile) return;
     name = namespace(path.basename(file).replace(/\..*$/, ''));
-    openedFile = removeByteOrderMark(openedFile.trim());
+    openedFile = removeByteOrderMark(openedFile);
     openedFile = wrap(file, name, openedFile);
     if (!options.outputdir) return openedFile;
     fs.writeFileSync(path.join(options.outputdir, name + '.js')
diff --git a/src/diff2html.js b/src/diff2html.js
index 21b0119e..64e138f5 100644
--- a/src/diff2html.js
+++ b/src/diff2html.js
@@ -7,7 +7,6 @@

 (function() {
   var diffParser = require('./diff-parser.js').DiffParser;
-  var fileLister = require('./file-list-printer.js').FileListPrinter;
   var htmlPrinter = require('./html-printer.js').HtmlPrinter;

   function Diff2Html() {
@@ -43,7 +42,7 @@

     var fileList = '';
     if (configOrEmpty.showFiles === true) {
-      fileList = fileLister.generateFileList(diffJson, configOrEmpty);
+      fileList = htmlPrinter.generateFileListSummary(diffJson, configOrEmpty);
     }

     var diffOutput = '';
diff --git a/src/file-list-printer.js b/src/file-list-printer.js
index e408d9b2..1e0a2c61 100644
--- a/src/file-list-printer.js
+++ b/src/file-list-printer.js
@@ -8,11 +8,16 @@
 (function() {
   var printerUtils = require('./printer-utils.js').PrinterUtils;

-  var hoganUtils = require('./hoganjs-utils.js').HoganJsUtils;
+  var hoganUtils;
+
   var baseTemplatesPath = 'file-summary';
   var iconsBaseTemplatesPath = 'icon';

-  function FileListPrinter() {
+  function FileListPrinter(config) {
+    this.config = config;
+
+    var HoganJsUtils = require('./hoganjs-utils.js').HoganJsUtils;
+    hoganUtils = new HoganJsUtils(config);
   }

   FileListPrinter.prototype.generateFileList = function(diffFiles) {
@@ -38,5 +43,5 @@
     });
   };

-  module.exports.FileListPrinter = new FileListPrinter();
+  module.exports.FileListPrinter = FileListPrinter;
 })();
diff --git a/src/hoganjs-utils.js b/src/hoganjs-utils.js
index 9949e5fa..0dda08d7 100644
--- a/src/hoganjs-utils.js
+++ b/src/hoganjs-utils.js
@@ -8,18 +8,19 @@
 (function() {
   var fs = require('fs');
   var path = require('path');
-
   var hogan = require('hogan.js');

   var hoganTemplates = require('./templates/diff2html-templates.js');

-  var templatesPath = path.resolve(__dirname, 'templates');
+  var extraTemplates;

-  function HoganJsUtils() {
+  function HoganJsUtils(configuration) {
+    this.config = configuration || {};
+    extraTemplates = this.config.templates || {};
   }

-  HoganJsUtils.prototype.render = function(namespace, view, params, configuration) {
-    var template = this.template(namespace, view, configuration);
+  HoganJsUtils.prototype.render = function(namespace, view, params) {
+    var template = this.template(namespace, view);
     if (template) {
       return template.render(params);
     }
@@ -27,17 +28,16 @@
     return null;
   };

-  HoganJsUtils.prototype.template = function(namespace, view, configuration) {
-    var config = configuration || {};
+  HoganJsUtils.prototype.template = function(namespace, view) {
     var templateKey = this._templateKey(namespace, view);

-    return this._getTemplate(templateKey, config);
+    return this._getTemplate(templateKey);
   };

-  HoganJsUtils.prototype._getTemplate = function(templateKey, config) {
+  HoganJsUtils.prototype._getTemplate = function(templateKey) {
     var template;

-    if (!config.noCache) {
+    if (!this.config.noCache) {
       template = this._readFromCache(templateKey);
     }

@@ -53,6 +53,7 @@

     try {
       if (fs.readFileSync) {
+        var templatesPath = path.resolve(__dirname, 'templates');
         var templatePath = path.join(templatesPath, templateKey);
         var templateContent = fs.readFileSync(templatePath + '.mustache', 'utf8');
         template = hogan.compile(templateContent);
@@ -66,12 +67,16 @@
   };

   HoganJsUtils.prototype._readFromCache = function(templateKey) {
-    return hoganTemplates[templateKey];
+    return extraTemplates[templateKey] || hoganTemplates[templateKey];
   };

   HoganJsUtils.prototype._templateKey = function(namespace, view) {
     return namespace + '-' + view;
   };

-  module.exports.HoganJsUtils = new HoganJsUtils();
+  HoganJsUtils.prototype.compile = function(templateStr) {
+    return hogan.compile(templateStr);
+  };
+
+  module.exports.HoganJsUtils = HoganJsUtils;
 })();
diff --git a/src/html-printer.js b/src/html-printer.js
index 585d5b66..13f83047 100644
--- a/src/html-printer.js
+++ b/src/html-printer.js
@@ -8,6 +8,7 @@
 (function() {
   var LineByLinePrinter = require('./line-by-line-printer.js').LineByLinePrinter;
   var SideBySidePrinter = require('./side-by-side-printer.js').SideBySidePrinter;
+  var FileListPrinter = require('./file-list-printer.js').FileListPrinter;

   function HtmlPrinter() {
   }
@@ -22,5 +23,10 @@
     return sideBySidePrinter.generateSideBySideJsonHtml(diffFiles);
   };

+  HtmlPrinter.prototype.generateFileListSummary = function(diffJson, config) {
+    var fileListPrinter = new FileListPrinter(config);
+    return fileListPrinter.generateFileList(diffJson);
+  };
+
   module.exports.HtmlPrinter = new HtmlPrinter();
 })();
diff --git a/src/line-by-line-printer.js b/src/line-by-line-printer.js
index b07eb53c..d230bedd 100644
--- a/src/line-by-line-printer.js
+++ b/src/line-by-line-printer.js
@@ -11,7 +11,8 @@
   var utils = require('./utils.js').Utils;
   var Rematch = require('./rematch.js').Rematch;

-  var hoganUtils = require('./hoganjs-utils.js').HoganJsUtils;
+  var hoganUtils;
+
   var genericTemplatesPath = 'generic';
   var baseTemplatesPath = 'line-by-line';
   var iconsBaseTemplatesPath = 'icon';
@@ -19,6 +20,9 @@

   function LineByLinePrinter(config) {
     this.config = config;
+
+    var HoganJsUtils = require('./hoganjs-utils.js').HoganJsUtils;
+    hoganUtils = new HoganJsUtils(config);
   }

   LineByLinePrinter.prototype.makeFileDiffHtml = function(file, diffs) {
diff --git a/src/side-by-side-printer.js b/src/side-by-side-printer.js
index bbf1dc8d..5e3033b3 100644
--- a/src/side-by-side-printer.js
+++ b/src/side-by-side-printer.js
@@ -11,7 +11,8 @@
   var utils = require('./utils.js').Utils;
   var Rematch = require('./rematch.js').Rematch;

-  var hoganUtils = require('./hoganjs-utils.js').HoganJsUtils;
+  var hoganUtils;
+
   var genericTemplatesPath = 'generic';
   var baseTemplatesPath = 'side-by-side';
   var iconsBaseTemplatesPath = 'icon';
@@ -26,6 +27,9 @@

   function SideBySidePrinter(config) {
     this.config = config;
+
+    var HoganJsUtils = require('./hoganjs-utils.js').HoganJsUtils;
+    hoganUtils = new HoganJsUtils(config);
   }

   SideBySidePrinter.prototype.makeDiffHtml = function(file, diffs) {
diff --git a/test/file-list-printer-tests.js b/test/file-list-printer-tests.js
index a502a46f..60ea3208 100644
--- a/test/file-list-printer-tests.js
+++ b/test/file-list-printer-tests.js
@@ -1,6 +1,6 @@
 var assert = require('assert');

-var fileListPrinter = require('../src/file-list-printer.js').FileListPrinter;
+var fileListPrinter = new (require('../src/file-list-printer.js').FileListPrinter)();

 describe('FileListPrinter', function() {
   describe('generateFileList', function() {
diff --git a/test/hogan-cache-tests.js b/test/hogan-cache-tests.js
index 190bf6f8..3bb754ac 100644
--- a/test/hogan-cache-tests.js
+++ b/test/hogan-cache-tests.js
@@ -1,6 +1,6 @@
 var assert = require('assert');

-var HoganJsUtils = require('../src/hoganjs-utils.js').HoganJsUtils;
+var HoganJsUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)();
 var diffParser = require('../src/diff-parser.js').DiffParser;

 describe('HoganJsUtils', function() {
@@ -21,16 +21,28 @@ describe('HoganJsUtils', function() {
       });
       assert.equal(emptyDiffHtml, result);
     });
+
     it('should render view without cache', function() {
       var result = HoganJsUtils.render('generic', 'empty-diff', {
         contentClass: 'd2h-code-line',
         diffParser: diffParser
       }, {noCache: true});
-      assert.equal(emptyDiffHtml + '\n', result);
+      assert.equal(emptyDiffHtml, result);
     });
+
     it('should return null if template is missing', function() {
-      var result = HoganJsUtils.render('generic', 'missing-template', {}, {noCache: true});
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)({noCache: true});
+      var result = hoganUtils.render('generic', 'missing-template', {});
       assert.equal(null, result);
     });
+
+    it('should allow templates to be overridden', function() {
+      var emptyDiffTemplate = HoganJsUtils.compile('&lt;p&gt;&lt;/p&gt;');
+
+      var config = {templates: {'generic-empty-diff': emptyDiffTemplate}};
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)(config);
+      var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
+      assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
+    });
   });
 });
diff --git a/test/line-by-line-tests.js b/test/line-by-line-tests.js
index 1cd92073..8869b3df 100644
--- a/test/line-by-line-tests.js
+++ b/test/line-by-line-tests.js
@@ -14,7 +14,7 @@ describe('LineByLinePrinter', function() {
         '            File without changes\n' +
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
-        '&lt;/tr&gt;\n';
+        '&lt;/tr&gt;';

       assert.equal(expected, fileHtml);
     });
@@ -422,7 +422,6 @@ describe('LineByLinePrinter', function() {
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
         '&lt;/tr&gt;\n' +
-        '\n' +
         '                &lt;/tbody&gt;\n' +
         '            &lt;/table&gt;\n' +
         '        &lt;/div&gt;\n' +
diff --git a/test/side-by-side-printer-tests.js b/test/side-by-side-printer-tests.js
index 76625f8e..771daaa5 100644
--- a/test/side-by-side-printer-tests.js
+++ b/test/side-by-side-printer-tests.js
@@ -14,7 +14,7 @@ describe('SideBySidePrinter', function() {
         '            File without changes\n' +
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
-        '&lt;/tr&gt;\n';
+        '&lt;/tr&gt;';

       assert.equal(expectedRight, fileHtml.right);
       assert.equal(expectedLeft, fileHtml.left);
@@ -324,7 +324,6 @@ describe('SideBySidePrinter', function() {
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
         '&lt;/tr&gt;\n' +
-        '\n' +
         '                    &lt;/tbody&gt;\n' +
         '                &lt;/table&gt;\n' +
         '            &lt;/div&gt;\n' +

From f3cadb96677d0eb82fc2752dc3ffbf35ca9b5bdb Mon Sep 17 00:00:00 2001
From: Rodrigo Fernandes &lt;rtfrodrigo@gmail.com&gt;
Date: Sat, 15 Oct 2016 13:21:22 +0100
Subject: [PATCH 2/2] Allow uncompiled templates

---
 README.md                 |  3 +++
 src/hoganjs-utils.js      |  7 +++++++
 test/hogan-cache-tests.js | 24 +++++++++++++++++++++++-
 3 files changed, 33 insertions(+), 1 deletion(-)

diff --git a/README.md b/README.md
index 132c8a28..46909f25 100644
--- a/README.md
+++ b/README.md
@@ -98,6 +98,9 @@ The HTML output accepts a Javascript object with configuration. Possible options
   - `synchronisedScroll`: scroll both panes in side-by-side mode: `true` or `false`, default is `false`
   - `matchWordsThreshold`: similarity threshold for word matching, default is 0.25
   - `matchingMaxComparisons`: perform at most this much comparisons for line matching a block of changes, default is `2500`
+  - `templates`: object with previously compiled templates to replace parts of the html
+  - `rawTemplates`: object with raw not compiled templates to replace parts of the html
+  &gt; For more information regarding the possible templates look into [src/templates](https://github.com/rtfpessoa/diff2html/tree/master/src/templates)

 ## Diff2HtmlUI Helper

diff --git a/src/hoganjs-utils.js b/src/hoganjs-utils.js
index 0dda08d7..b2e9c275 100644
--- a/src/hoganjs-utils.js
+++ b/src/hoganjs-utils.js
@@ -17,6 +17,13 @@
   function HoganJsUtils(configuration) {
     this.config = configuration || {};
     extraTemplates = this.config.templates || {};
+
+    var rawTemplates = this.config.rawTemplates || {};
+    for (var templateName in rawTemplates) {
+      if (rawTemplates.hasOwnProperty(templateName)) {
+        if (!extraTemplates[templateName]) extraTemplates[templateName] = this.compile(rawTemplates[templateName]);
+      }
+    }
   }

   HoganJsUtils.prototype.render = function(namespace, view, params) {
diff --git a/test/hogan-cache-tests.js b/test/hogan-cache-tests.js
index 3bb754ac..a34839c0 100644
--- a/test/hogan-cache-tests.js
+++ b/test/hogan-cache-tests.js
@@ -36,7 +36,7 @@ describe('HoganJsUtils', function() {
       assert.equal(null, result);
     });

-    it('should allow templates to be overridden', function() {
+    it('should allow templates to be overridden with compiled templates', function() {
       var emptyDiffTemplate = HoganJsUtils.compile('&lt;p&gt;&lt;/p&gt;');

       var config = {templates: {'generic-empty-diff': emptyDiffTemplate}};
@@ -44,5 +44,27 @@ describe('HoganJsUtils', function() {
       var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
       assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
     });
+
+    it('should allow templates to be overridden with uncompiled templates', function() {
+      var emptyDiffTemplate = '&lt;p&gt;&lt;/p&gt;';
+
+      var config = {rawTemplates: {'generic-empty-diff': emptyDiffTemplate}};
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)(config);
+      var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
+      assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
+    });
+
+    it('should allow templates to be overridden giving priority to compiled templates', function() {
+      var emptyDiffTemplate = HoganJsUtils.compile('&lt;p&gt;&lt;/p&gt;');
+      var emptyDiffTemplateUncompiled = '&lt;p&gt;Not used!&lt;/p&gt;';
+
+      var config = {
+        templates: {'generic-empty-diff': emptyDiffTemplate},
+        rawTemplates: {'generic-empty-diff': emptyDiffTemplateUncompiled}
+      };
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)(config);
+      var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
+      assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
+    });
   });
 });
</code></pre>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="code"/><summary type="html"><![CDATA[this is how you can display code diffs]]></summary></entry><entry><title type="html">a post with advanced image components</title><link href="https://zezedp.github.io/blog/2024/advanced-images/" rel="alternate" type="text/html" title="a post with advanced image components"/><published>2024-01-27T11:46:00+00:00</published><updated>2024-01-27T11:46:00+00:00</updated><id>https://zezedp.github.io/blog/2024/advanced-images</id><content type="html" xml:base="https://zezedp.github.io/blog/2024/advanced-images/"><![CDATA[<p>This is an example post with advanced image components.</p> <h2 id="image-slider">Image Slider</h2> <p>This is a simple image slider. It uses the <a href="https://swiperjs.com/">Swiper</a> library. Check the <a href="https://swiperjs.com/demos">examples page</a> for more information of what you can achieve with it.</p> <swiper-container keyboard="true" navigation="true" pagination="true" pagination-clickable="true" pagination-dynamic-bullets="true" rewind="true"> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/9-480.webp 480w,/assets/img/9-800.webp 800w,/assets/img/9-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/9.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/7-480.webp 480w,/assets/img/7-800.webp 800w,/assets/img/7-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/7.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/8-480.webp 480w,/assets/img/8-800.webp 800w,/assets/img/8-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/8.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/10-480.webp 480w,/assets/img/10-800.webp 800w,/assets/img/10-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/10.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/12-480.webp 480w,/assets/img/12-800.webp 800w,/assets/img/12-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/12.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> </swiper-container> <h2 id="image-comparison-slider">Image Comparison Slider</h2> <p>This is a simple image comparison slider. It uses the <a href="https://img-comparison-slider.sneas.io/">img-comparison-slider</a> library. Check the <a href="https://img-comparison-slider.sneas.io/examples.html">examples page</a> for more information of what you can achieve with it.</p> <img-comparison-slider> <figure slot="first"> <picture> <source class="responsive-img-srcset" srcset="/assets/img/prof_pic-480.webp 480w,/assets/img/prof_pic-800.webp 800w,/assets/img/prof_pic-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/prof_pic.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure slot="second"> <picture> <source class="responsive-img-srcset" srcset="/assets/img/prof_pic_color-480.webp 480w,/assets/img/prof_pic_color-800.webp 800w,/assets/img/prof_pic_color-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/prof_pic_color.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </img-comparison-slider>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="images"/><summary type="html"><![CDATA[this is what advanced image components could look like]]></summary></entry><entry><title type="html">a post with vega lite</title><link href="https://zezedp.github.io/blog/2024/vega-lite/" rel="alternate" type="text/html" title="a post with vega lite"/><published>2024-01-27T00:20:00+00:00</published><updated>2024-01-27T00:20:00+00:00</updated><id>https://zezedp.github.io/blog/2024/vega-lite</id><content type="html" xml:base="https://zezedp.github.io/blog/2024/vega-lite/"><![CDATA[<p>Teste de edi√ß√£o This is an example post with some <a href="https://vega.github.io/vega-lite/">vega lite</a> code.</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">vega_lite
</span><span class="sb">{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "A dot plot showing each movie in the database, and the difference from the average movie rating. The display is sorted by year to visualize everything in sequential order. The graph is for all Movies before 2019.",
  "data": {
    "url": "https://raw.githubusercontent.com/vega/vega/main/docs/data/movies.json"
  },
  "transform": [
    {"filter": "datum['IMDB Rating'] != null"},
    {"filter": {"timeUnit": "year", "field": "Release Date", "range": [null, 2019]}},
    {
      "joinaggregate": [{
        "op": "mean",
        "field": "IMDB Rating",
        "as": "AverageRating"
      }]
    },
    {
      "calculate": "datum['IMDB Rating'] - datum.AverageRating",
      "as": "RatingDelta"
    }
  ],
  "mark": "point",
  "encoding": {
    "x": {
      "field": "Release Date",
      "type": "temporal"
    },
    "y": {
      "field": "RatingDelta",
      "type": "quantitative",
      "title": "Rating Delta"
    },
    "color": {
      "field": "RatingDelta",
      "type": "quantitative",
      "scale": {"domainMid": 0},
      "title": "Rating Delta"
    }
  }
}</span>
<span class="p">```</span>
</code></pre></div></div> <p>Which generates:</p> <pre><code class="language-vega_lite">{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "A dot plot showing each movie in the database, and the difference from the average movie rating. The display is sorted by year to visualize everything in sequential order. The graph is for all Movies before 2019.",
  "data": {
    "url": "https://raw.githubusercontent.com/vega/vega/main/docs/data/movies.json"
  },
  "transform": [
    {"filter": "datum['IMDB Rating'] != null"},
    {"filter": {"timeUnit": "year", "field": "Release Date", "range": [null, 2019]}},
    {
      "joinaggregate": [{
        "op": "mean",
        "field": "IMDB Rating",
        "as": "AverageRating"
      }]
    },
    {
      "calculate": "datum['IMDB Rating'] - datum.AverageRating",
      "as": "RatingDelta"
    }
  ],
  "mark": "point",
  "encoding": {
    "x": {
      "field": "Release Date",
      "type": "temporal"
    },
    "y": {
      "field": "RatingDelta",
      "type": "quantitative",
      "title": "Rating Delta"
    },
    "color": {
      "field": "RatingDelta",
      "type": "quantitative",
      "scale": {"domainMid": 0},
      "title": "Rating Delta"
    }
  }
}
</code></pre> <p>This plot supports both light and dark themes.</p>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="charts"/><summary type="html"><![CDATA[this is what included vega lite code could look like]]></summary></entry><entry><title type="html">a post with geojson</title><link href="https://zezedp.github.io/blog/2024/geojson-map/" rel="alternate" type="text/html" title="a post with geojson"/><published>2024-01-26T17:57:00+00:00</published><updated>2024-01-26T17:57:00+00:00</updated><id>https://zezedp.github.io/blog/2024/geojson-map</id><content type="html" xml:base="https://zezedp.github.io/blog/2024/geojson-map/"><![CDATA[<p>This is an example post with some <a href="https://geojson.org/">geojson</a> code. The support is provided thanks to <a href="https://leafletjs.com/">Leaflet</a>. To create your own visualization, go to <a href="https://geojson.io/">geojson.io</a>.</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">geojson
</span><span class="sb">{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "coordinates": [
          [
            [
              -60.11363029935569,
              -2.904625022183211
            ],
            [
              -60.11363029935569,
              -3.162613728707967
            ],
            [
              -59.820894493858034,
              -3.162613728707967
            ],
            [
              -59.820894493858034,
              -2.904625022183211
            ],
            [
              -60.11363029935569,
              -2.904625022183211
            ]
          ]
        ],
        "type": "Polygon"
      }
    }
  ]
}</span>
<span class="p">```</span>
</code></pre></div></div> <p>Which generates:</p> <pre><code class="language-geojson">{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "coordinates": [
          [
            [
              -60.11363029935569,
              -2.904625022183211
            ],
            [
              -60.11363029935569,
              -3.162613728707967
            ],
            [
              -59.820894493858034,
              -3.162613728707967
            ],
            [
              -59.820894493858034,
              -2.904625022183211
            ],
            [
              -60.11363029935569,
              -2.904625022183211
            ]
          ]
        ],
        "type": "Polygon"
      }
    }
  ]
}
</code></pre>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="charts"/><category term="maps"/><summary type="html"><![CDATA[this is what included geojson code could look like]]></summary></entry><entry><title type="html">a post with echarts</title><link href="https://zezedp.github.io/blog/2024/echarts/" rel="alternate" type="text/html" title="a post with echarts"/><published>2024-01-26T16:03:00+00:00</published><updated>2024-01-26T16:03:00+00:00</updated><id>https://zezedp.github.io/blog/2024/echarts</id><content type="html" xml:base="https://zezedp.github.io/blog/2024/echarts/"><![CDATA[<p>This is an example post with some <a href="https://echarts.apache.org/">echarts</a> code.</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">echarts
</span><span class="sb">{
  "title": {
    "text": "ECharts Getting Started Example"
  },
  "responsive": true,
  "tooltip": {},
  "legend": {
    "top": "30px",
    "data": ["sales"]
  },
  "xAxis": {
    "data": ["Shirts", "Cardigans", "Chiffons", "Pants", "Heels", "Socks"]
  },
  "yAxis": {},
  "series": [
    {
      "name": "sales",
      "type": "bar",
      "data": [5, 20, 36, 10, 10, 20]
    }
  ]
}</span>
<span class="p">```</span>
</code></pre></div></div> <p>Which generates:</p> <pre><code class="language-echarts">{
  "title": {
    "text": "ECharts Getting Started Example"
  },
  "responsive": true,
  "tooltip": {},
  "legend": {
    "top": "30px",
    "data": ["sales"]
  },
  "xAxis": {
    "data": ["Shirts", "Cardigans", "Chiffons", "Pants", "Heels", "Socks"]
  },
  "yAxis": {},
  "series": [
    {
      "name": "sales",
      "type": "bar",
      "data": [5, 20, 36, 10, 10, 20]
    }
  ]
}
</code></pre> <p>Note that this library offer support for both light and dark themes. You can switch between them using the theme switcher in the top right corner of the page.</p>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="charts"/><summary type="html"><![CDATA[this is what included echarts code could look like]]></summary></entry><entry><title type="html">a post with chart.js</title><link href="https://zezedp.github.io/blog/2024/chartjs/" rel="alternate" type="text/html" title="a post with chart.js"/><published>2024-01-26T01:04:00+00:00</published><updated>2024-01-26T01:04:00+00:00</updated><id>https://zezedp.github.io/blog/2024/chartjs</id><content type="html" xml:base="https://zezedp.github.io/blog/2024/chartjs/"><![CDATA[<p>This is an example post with some <a href="https://www.chartjs.org/">chart.js</a> code.</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">chartjs
</span><span class="sb">{
  "type": "line",
  "data": {
    "labels": [
      "January",
      "February",
      "March",
      "April",
      "May",
      "June",
      "July"
    ],
    "datasets": [
      {
        "label": "# of bugs",
        "fill": false,
        "lineTension": 0.1,
        "backgroundColor": "rgba(75,192,192,0.4)",
        "borderColor": "rgba(75,192,192,1)",
        "borderCapStyle": "butt",
        "borderDash": [],
        "borderDashOffset": 0,
        "borderJoinStyle": "miter",
        "pointBorderColor": "rgba(75,192,192,1)",
        "pointBackgroundColor": "#fff",
        "pointBorderWidth": 1,
        "pointHoverRadius": 5,
        "pointHoverBackgroundColor": "rgba(75,192,192,1)",
        "pointHoverBorderColor": "rgba(220,220,220,1)",
        "pointHoverBorderWidth": 2,
        "pointRadius": 1,
        "pointHitRadius": 10,
        "data": [
          65,
          59,
          80,
          81,
          56,
          55,
          40
        ],
        "spanGaps": false
      }
    ]
  },
  "options": {}
}</span>
<span class="p">```</span>
</code></pre></div></div> <p>This is how it looks like:</p> <pre><code class="language-chartjs">{
  "type": "line",
  "data": {
    "labels": [
      "January",
      "February",
      "March",
      "April",
      "May",
      "June",
      "July"
    ],
    "datasets": [
      {
        "label": "# of bugs",
        "fill": false,
        "lineTension": 0.1,
        "backgroundColor": "rgba(75,192,192,0.4)",
        "borderColor": "rgba(75,192,192,1)",
        "borderCapStyle": "butt",
        "borderDash": [],
        "borderDashOffset": 0,
        "borderJoinStyle": "miter",
        "pointBorderColor": "rgba(75,192,192,1)",
        "pointBackgroundColor": "#fff",
        "pointBorderWidth": 1,
        "pointHoverRadius": 5,
        "pointHoverBackgroundColor": "rgba(75,192,192,1)",
        "pointHoverBorderColor": "rgba(220,220,220,1)",
        "pointHoverBorderWidth": 2,
        "pointRadius": 1,
        "pointHitRadius": 10,
        "data": [
          65,
          59,
          80,
          81,
          56,
          55,
          40
        ],
        "spanGaps": false
      }
    ]
  },
  "options": {}
}
</code></pre> <p>Also another example chart.</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">chartjs
</span><span class="sb">{
  "type": "doughnut",
  "data": {
    "labels": [
      "Red",
      "Blue",
      "Yellow"
    ],
    "datasets": [
      {
        "data": [
          300,
          50,
          100
        ],
        "backgroundColor": [
          "#FF6384",
          "#36A2EB",
          "#FFCE56"
        ],
        "hoverBackgroundColor": [
          "#FF6384",
          "#36A2EB",
          "#FFCE56"
        ]
      }
    ]
  },
  "options": {}
}</span>
<span class="p">```</span>
</code></pre></div></div> <p>Which generates:</p> <pre><code class="language-chartjs">{
  "type": "doughnut",
  "data": {
    "labels": [
      "Red",
      "Blue",
      "Yellow"
    ],
    "datasets": [
      {
        "data": [
          300,
          50,
          100
        ],
        "backgroundColor": [
          "#FF6384",
          "#36A2EB",
          "#FFCE56"
        ],
        "hoverBackgroundColor": [
          "#FF6384",
          "#36A2EB",
          "#FFCE56"
        ]
      }
    ]
  },
  "options": {}
}
</code></pre>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="charts"/><summary type="html"><![CDATA[this is what included chart.js code could look like]]></summary></entry><entry><title type="html">a post with TikZJax</title><link href="https://zezedp.github.io/blog/2023/tikzjax/" rel="alternate" type="text/html" title="a post with TikZJax"/><published>2023-12-12T22:25:00+00:00</published><updated>2023-12-12T22:25:00+00:00</updated><id>https://zezedp.github.io/blog/2023/tikzjax</id><content type="html" xml:base="https://zezedp.github.io/blog/2023/tikzjax/"><![CDATA[<p>This is an example post with TikZ code. TikZJax converts script tags (containing TikZ code) into SVGs.</p> <script type="text/tikz">
\begin{tikzpicture}
    \draw[red,fill=black!60!red] (0,0) circle [radius=1.5];
    \draw[green,fill=black!60!green] (0,0) circle [x radius=1.5cm, y radius=10mm];
    \draw[blue,fill=black!60!blue] (0,0) circle [x radius=1cm, y radius=5mm, rotate=30];
\end{tikzpicture}
</script>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="diagrams"/><summary type="html"><![CDATA[this is what included TikZ code could look like]]></summary></entry><entry><title type="html">a post with bibliography</title><link href="https://zezedp.github.io/blog/2023/post-bibliography/" rel="alternate" type="text/html" title="a post with bibliography"/><published>2023-07-12T13:56:00+00:00</published><updated>2023-07-12T13:56:00+00:00</updated><id>https://zezedp.github.io/blog/2023/post-bibliography</id><content type="html" xml:base="https://zezedp.github.io/blog/2023/post-bibliography/"><![CDATA[<p>This post shows how to add bibliography to simple blog posts. We support every citation style that <a href="https://github.com/inukshuk/jekyll-scholar">jekyll-scholar</a> does. That means simple citation like <a class="citation" href="#einstein1950meaning">(Einstein &amp; Taub, 1950)</a>, multiple citations like <a class="citation" href="#einstein1950meaning">(Einstein &amp; Taub, 1950; Einstein, 1905)</a>, long references like <span id="einstein1905movement">Einstein, A. (1905). Un the movement of small particles suspended in statiunary liquids required by the molecular-kinetic theory 0f heat. <i>Ann. Phys.</i>, <i>17</i>, 549‚Äì560.</span> or also quotes:</p> <blockquote><p>Lorem ipsum dolor sit amet, consectetur adipisicing elit,<br/>sed do eiusmod tempor.</p><p>Lorem ipsum dolor sit amet, consectetur adipisicing.</p><cite><a class="citation" href="#einstein1905electrodynamics">(Einstein, 1905)</a></cite></blockquote> <p>If you would like something more academic, check the <a href="/blog/2021/distill/">distill style post</a>.</p>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="bib"/><summary type="html"><![CDATA[an example of a blog post with bibliography]]></summary></entry></feed>